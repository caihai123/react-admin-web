{"version":3,"file":"static/js/424.eaba5f7b.chunk.js","mappings":"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","sources":["webpack://react-admin-web/./src/pages/permis/account/index.jsx","webpack://react-admin-web/./src/store/api/deptSlice.js","webpack://react-admin-web/./src/utils/dict.js","webpack://react-admin-web/./node_modules/antd/es/tag/style/index.js","webpack://react-admin-web/./node_modules/antd/es/_util/capitalize.js","webpack://react-admin-web/./node_modules/antd/es/tag/index.js","webpack://react-admin-web/./node_modules/antd/es/tag/CheckableTag.js"],"sourcesContent":["import { Button, message, Space, Switch, Tag } from \"antd\";\r\nimport axios from \"@/utils/axios\";\r\nimport ProTable from \"@/components/ProTable\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport { gender as genderDict } from \"@/utils/dict\";\r\nimport { useGetDeptSelectQuery } from \"@/store/api/deptSlice\";\r\n\r\nexport default function Page() {\r\n  const { data: depeOptions } = useGetDeptSelectQuery();\r\n\r\n  const columns = [\r\n    {\r\n      title: \"真实姓名\",\r\n      dataIndex: \"name\",\r\n    },\r\n    {\r\n      title: \"账号\",\r\n      dataIndex: \"account\",\r\n    },\r\n    {\r\n      title: \"性别\",\r\n      dataIndex: \"gender\",\r\n      render: (gender) => {\r\n        const map = genderDict.map[gender];\r\n        const tag = {\r\n          color: map?.color || \"rgba(0,0,0,.25)\",\r\n          label: map?.label || \"未知\",\r\n        };\r\n        return <Tag color={tag.color}>{tag.label}</Tag>;\r\n      },\r\n      type: \"select\",\r\n      options: genderDict.options,\r\n    },\r\n    {\r\n      title: \"手机号\",\r\n      dataIndex: \"phone\",\r\n    },\r\n    {\r\n      title: \"邮箱\",\r\n      dataIndex: \"email\",\r\n    },\r\n    {\r\n      title: \"状态\",\r\n      dataIndex: \"status\",\r\n      render: (status) => <Switch checked={status === 1} />,\r\n      type: \"select\",\r\n      options: [\r\n        { label: \"启用\", value: 1 },\r\n        { label: \"禁用\", value: 0 },\r\n      ],\r\n    },\r\n    {\r\n      title: \"部门\",\r\n      dataIndex: \"deptId\",\r\n      type: \"treeSelect\",\r\n      options: depeOptions,\r\n      render: (_, row) => row.deptName,\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      key: \"action\",\r\n      render: (row) => (\r\n        <Space>\r\n          <Button type=\"primary\" ghost size=\"small\">\r\n            编辑\r\n          </Button>\r\n          <Button type=\"primary\" size=\"small\">\r\n            授权\r\n          </Button>\r\n          <Button type=\"primary\" danger size=\"small\">\r\n            删除\r\n          </Button>\r\n        </Space>\r\n      ),\r\n      width: 100,\r\n      fixed: \"right\",\r\n      hideInSearch: true,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <ProTable\r\n      columns={columns}\r\n      rowKey=\"id\"\r\n      headerTitle=\"用户列表\"\r\n      request={(params, { current, pageSize }) => {\r\n        return axios\r\n          .post(\"/api/account/page\", { params, pageIndex: current, pageSize })\r\n          .then((value) => {\r\n            const { result: data } = value;\r\n            return {\r\n              list: data.records,\r\n              total: data.total,\r\n            };\r\n          });\r\n      }}\r\n      batchBarRender={[\r\n        <Button\r\n          type=\"primary\"\r\n          key=\"del\"\r\n          danger\r\n          onClick={() => message.warning(\"演示功能\")}\r\n        >\r\n          批量删除\r\n        </Button>,\r\n        <Button key=\"export\" onClick={() => message.warning(\"演示功能\")}>\r\n          导出数据\r\n        </Button>,\r\n      ]}\r\n      toolBarRender={[\r\n        <Button\r\n          key=\"add\"\r\n          type=\"primary\"\r\n          icon={<PlusOutlined />}\r\n          onClick={() => message.warning(\"演示功能\")}\r\n        >\r\n          新增\r\n        </Button>,\r\n        <Button key=\"export\" onClick={() => message.warning(\"演示功能\")}>\r\n          导出\r\n        </Button>,\r\n      ]}\r\n    />\r\n  );\r\n}\r\n","import apiSlice from \"../apiSlice\";\r\n\r\nexport const deptSlice = apiSlice.injectEndpoints({\r\n  endpoints: (builder) => ({\r\n    // 获取所有部门\r\n    getDeptAll: builder.query({\r\n      query: () => \"/api/dept/list\",\r\n      providesTags: [\"deptList\"],\r\n    }),\r\n    // 获取部门选择器\r\n    getDeptSelect: builder.query({\r\n      query: () => \"/api/dept/select\",\r\n      providesTags: [\"DeptSelect\"],\r\n    }),\r\n    // 新增单个部门\r\n    addDeptItem: builder.mutation({\r\n      query: (body) => ({\r\n        url: \"/api/dept/add\",\r\n        method: \"POST\",\r\n        body,\r\n      }),\r\n      invalidatesTags: [\"deptList\", \"DeptSelect\"],\r\n    }),\r\n    // 更新单个部门\r\n    updateDeptItem: builder.mutation({\r\n      query: (body) => ({\r\n        url: \"/api/dept/update\",\r\n        method: \"POST\",\r\n        body,\r\n      }),\r\n      invalidatesTags: [\"deptList\", \"DeptSelect\"],\r\n    }),\r\n    // 删除单个部门\r\n    deleteDeptItem: builder.mutation({\r\n      query: (body) => ({\r\n        url: \"/api/dept/delete\",\r\n        method: \"POST\",\r\n        body,\r\n      }),\r\n      invalidatesTags: [\"deptList\", \"DeptSelect\"],\r\n      async onQueryStarted({ id }, { dispatch, queryFulfilled }) {\r\n        const patchResult = dispatch(\r\n          apiSlice.util.updateQueryData(\"getDeptAll\", undefined, (draft) => {\r\n            return draft.filter((dept) => dept.id !== id);\r\n          })\r\n        );\r\n        try {\r\n          await queryFulfilled;\r\n        } catch {\r\n          patchResult.undo();\r\n        }\r\n      },\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetDeptAllQuery,\r\n  useGetDeptSelectQuery,\r\n  useAddDeptItemMutation,\r\n  useUpdateDeptItemMutation,\r\n  useDeleteDeptItemMutation,\r\n} = deptSlice;\r\n","const createDict = function (dict) {\r\n  return {\r\n    enum: Object.fromEntries(dict.map(({ alias, value }) => [alias, value])),\r\n    options: dict.map(({ label, value }) => ({ label, value })),\r\n    map: Object.fromEntries(dict.map((item) => [item.value, item])),\r\n  };\r\n};\r\n\r\n// 菜单类型\r\nexport const menuType = createDict([\r\n  { label: \"菜单\", value: \"1\", alias: \"menu\", color: \"#87d068\" },\r\n  { label: \"目录\", value: \"2\", alias: \"folder\", color: \"#108ee9\" },\r\n]);\r\n\r\n// 性别\r\nexport const gender = createDict([\r\n  { label: \"男\", value: \"1\", alias: \"male\", color: \"#00b9ff\" },\r\n  { label: \"女\", value: \"2\", alias: \"woman\", color: \"#f179b4\" },\r\n]);\r\n\r\nconst dict = {\r\n  menuType,\r\n  gender,\r\n};\r\n\r\nexport default dict;\r\n","import capitalize from '../../_util/capitalize';\nimport { resetComponent } from '../../style';\nimport { genComponentStyleHook, genPresetColor, mergeToken } from '../../theme/internal';\nconst genTagStatusStyle = (token, status, cssVariableType) => {\n  const capitalizedCssVariableType = capitalize(cssVariableType);\n  return {\n    [`${token.componentCls}-${status}`]: {\n      color: token[`color${cssVariableType}`],\n      background: token[`color${capitalizedCssVariableType}Bg`],\n      borderColor: token[`color${capitalizedCssVariableType}Border`],\n      [`&${token.componentCls}-borderless`]: {\n        borderColor: 'transparent'\n      }\n    }\n  };\n};\nconst genPresetStyle = token => genPresetColor(token, (colorKey, _ref) => {\n  let {\n    textColor,\n    lightBorderColor,\n    lightColor,\n    darkColor\n  } = _ref;\n  return {\n    [`${token.componentCls}-${colorKey}`]: {\n      color: textColor,\n      background: lightColor,\n      borderColor: lightBorderColor,\n      // Inverse color\n      '&-inverse': {\n        color: token.colorTextLightSolid,\n        background: darkColor,\n        borderColor: darkColor\n      },\n      [`&${token.componentCls}-borderless`]: {\n        borderColor: 'transparent'\n      }\n    }\n  };\n});\nconst genBaseStyle = token => {\n  const {\n    paddingXXS,\n    lineWidth,\n    tagPaddingHorizontal,\n    componentCls\n  } = token;\n  const paddingInline = tagPaddingHorizontal - lineWidth;\n  const iconMarginInline = paddingXXS - lineWidth;\n  return {\n    // Result\n    [componentCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      display: 'inline-block',\n      height: 'auto',\n      marginInlineEnd: token.marginXS,\n      paddingInline,\n      fontSize: token.tagFontSize,\n      lineHeight: token.tagLineHeight,\n      whiteSpace: 'nowrap',\n      background: token.defaultBg,\n      border: `${token.lineWidth}px ${token.lineType} ${token.colorBorder}`,\n      borderRadius: token.borderRadiusSM,\n      opacity: 1,\n      transition: `all ${token.motionDurationMid}`,\n      textAlign: 'start',\n      position: 'relative',\n      // RTL\n      [`&${componentCls}-rtl`]: {\n        direction: 'rtl'\n      },\n      '&, a, a:hover': {\n        color: token.defaultColor\n      },\n      [`${componentCls}-close-icon`]: {\n        marginInlineStart: iconMarginInline,\n        color: token.colorTextDescription,\n        fontSize: token.tagIconSize,\n        cursor: 'pointer',\n        transition: `all ${token.motionDurationMid}`,\n        '&:hover': {\n          color: token.colorTextHeading\n        }\n      },\n      [`&${componentCls}-has-color`]: {\n        borderColor: 'transparent',\n        [`&, a, a:hover, ${token.iconCls}-close, ${token.iconCls}-close:hover`]: {\n          color: token.colorTextLightSolid\n        }\n      },\n      [`&-checkable`]: {\n        backgroundColor: 'transparent',\n        borderColor: 'transparent',\n        cursor: 'pointer',\n        [`&:not(${componentCls}-checkable-checked):hover`]: {\n          color: token.colorPrimary,\n          backgroundColor: token.colorFillSecondary\n        },\n        '&:active, &-checked': {\n          color: token.colorTextLightSolid\n        },\n        '&-checked': {\n          backgroundColor: token.colorPrimary,\n          '&:hover': {\n            backgroundColor: token.colorPrimaryHover\n          }\n        },\n        '&:active': {\n          backgroundColor: token.colorPrimaryActive\n        }\n      },\n      [`&-hidden`]: {\n        display: 'none'\n      },\n      // To ensure that a space will be placed between character and `Icon`.\n      [`> ${token.iconCls} + span, > span + ${token.iconCls}`]: {\n        marginInlineStart: paddingInline\n      }\n    }),\n    [`${componentCls}-borderless`]: {\n      borderColor: 'transparent',\n      background: token.tagBorderlessBg\n    }\n  };\n};\n// ============================== Export ==============================\nexport default genComponentStyleHook('Tag', token => {\n  const {\n    lineWidth,\n    fontSizeIcon\n  } = token;\n  const tagFontSize = token.fontSizeSM;\n  const tagLineHeight = `${token.lineHeightSM * tagFontSize}px`;\n  const tagToken = mergeToken(token, {\n    tagFontSize,\n    tagLineHeight,\n    tagIconSize: fontSizeIcon - 2 * lineWidth,\n    tagPaddingHorizontal: 8,\n    tagBorderlessBg: token.colorFillTertiary\n  });\n  return [genBaseStyle(tagToken), genPresetStyle(tagToken), genTagStatusStyle(tagToken, 'success', 'Success'), genTagStatusStyle(tagToken, 'processing', 'Info'), genTagStatusStyle(tagToken, 'error', 'Error'), genTagStatusStyle(tagToken, 'warning', 'Warning')];\n}, token => ({\n  defaultBg: token.colorFillQuaternary,\n  defaultColor: token.colorText\n}));","export default function capitalize(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n  const ret = str.charAt(0).toUpperCase() + str.slice(1);\n  return ret;\n}","'use client';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { isPresetColor, isPresetStatusColor } from '../_util/colors';\nimport useClosable from '../_util/hooks/useClosable';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport CheckableTag from './CheckableTag';\nimport useStyle from './style';\nconst InternalTag = (tagProps, ref) => {\n  const {\n      prefixCls: customizePrefixCls,\n      className,\n      rootClassName,\n      style,\n      children,\n      icon,\n      color,\n      onClose,\n      closeIcon,\n      closable,\n      bordered = true\n    } = tagProps,\n    props = __rest(tagProps, [\"prefixCls\", \"className\", \"rootClassName\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\", \"bordered\"]);\n  const {\n    getPrefixCls,\n    direction,\n    tag\n  } = React.useContext(ConfigContext);\n  const [visible, setVisible] = React.useState(true);\n  // Warning for deprecated usage\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(!('visible' in props), 'Tag', '`visible` is deprecated, please use `visible && <Tag />` instead.') : void 0;\n  }\n  React.useEffect(() => {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n  const isInternalColor = isPresetColor(color) || isPresetStatusColor(color);\n  const tagStyle = Object.assign(Object.assign({\n    backgroundColor: color && !isInternalColor ? color : undefined\n  }, tag === null || tag === void 0 ? void 0 : tag.style), style);\n  const prefixCls = getPrefixCls('tag', customizePrefixCls);\n  // Style\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const tagClassName = classNames(prefixCls, tag === null || tag === void 0 ? void 0 : tag.className, {\n    [`${prefixCls}-${color}`]: isInternalColor,\n    [`${prefixCls}-has-color`]: color && !isInternalColor,\n    [`${prefixCls}-hidden`]: !visible,\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-borderless`]: !bordered\n  }, className, rootClassName, hashId);\n  const handleCloseClick = e => {\n    e.stopPropagation();\n    onClose === null || onClose === void 0 ? void 0 : onClose(e);\n    if (e.defaultPrevented) {\n      return;\n    }\n    setVisible(false);\n  };\n  const [, mergedCloseIcon] = useClosable(closable, closeIcon, iconNode => iconNode === null ? /*#__PURE__*/React.createElement(CloseOutlined, {\n    className: `${prefixCls}-close-icon`,\n    onClick: handleCloseClick\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-close-icon`,\n    onClick: handleCloseClick\n  }, iconNode), null, false);\n  const isNeedWave = typeof props.onClick === 'function' || children && children.type === 'a';\n  const iconNode = icon || null;\n  const kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, children && /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  const tagNode = /*#__PURE__*/React.createElement(\"span\", Object.assign({}, props, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, mergedCloseIcon);\n  return wrapSSR(isNeedWave ? /*#__PURE__*/React.createElement(Wave, {\n    component: \"Tag\"\n  }, tagNode) : tagNode);\n};\nconst Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nif (process.env.NODE_ENV !== 'production') {\n  Tag.displayName = 'Tag';\n}\nTag.CheckableTag = CheckableTag;\nexport default Tag;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport useStyle from './style';\nconst CheckableTag = props => {\n  const {\n      prefixCls: customizePrefixCls,\n      className,\n      checked,\n      onChange,\n      onClick\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const handleClick = e => {\n    onChange === null || onChange === void 0 ? void 0 : onChange(!checked);\n    onClick === null || onClick === void 0 ? void 0 : onClick(e);\n  };\n  const prefixCls = getPrefixCls('tag', customizePrefixCls);\n  // Style\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const cls = classNames(prefixCls, `${prefixCls}-checkable`, {\n    [`${prefixCls}-checkable-checked`]: checked\n  }, className, hashId);\n  return wrapSSR( /*#__PURE__*/React.createElement(\"span\", Object.assign({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  })));\n};\nexport default CheckableTag;"],"names":["Page","data","depeOptions","useGetDeptSelectQuery","columns","title","dataIndex","render","gender","map","genderDict","tag","color","label","_jsx","Tag","children","type","options","status","Switch","checked","value","_","row","deptName","key","_jsxs","Space","Button","ghost","size","danger","width","fixed","hideInSearch","ProTable","rowKey","headerTitle","request","params","current","pageSize","axios","pageIndex","then","result","list","records","total","batchBarRender","onClick","message","toolBarRender","icon","PlusOutlined","deptSlice","apiSlice","endpoints","builder","getDeptAll","query","providesTags","getDeptSelect","addDeptItem","mutation","body","url","method","invalidatesTags","updateDeptItem","deleteDeptItem","async","id","dispatch","queryFulfilled","patchResult","undefined","draft","filter","dept","undo","useGetDeptAllQuery","useAddDeptItemMutation","useUpdateDeptItemMutation","useDeleteDeptItemMutation","createDict","dict","enum","Object","fromEntries","alias","item","menuType","genTagStatusStyle","token","cssVariableType","capitalizedCssVariableType","str","charAt","toUpperCase","slice","componentCls","background","borderColor","genPresetStyle","genPresetColor","colorKey","_ref","textColor","lightBorderColor","lightColor","darkColor","colorTextLightSolid","genBaseStyle","paddingXXS","lineWidth","tagPaddingHorizontal","paddingInline","iconMarginInline","assign","display","height","marginInlineEnd","marginXS","fontSize","tagFontSize","lineHeight","tagLineHeight","whiteSpace","defaultBg","border","lineType","colorBorder","borderRadius","borderRadiusSM","opacity","transition","motionDurationMid","textAlign","position","direction","defaultColor","marginInlineStart","colorTextDescription","tagIconSize","cursor","colorTextHeading","iconCls","backgroundColor","colorPrimary","colorFillSecondary","colorPrimaryHover","colorPrimaryActive","tagBorderlessBg","genComponentStyleHook","fontSizeIcon","fontSizeSM","lineHeightSM","tagToken","colorFillTertiary","colorFillQuaternary","colorText","InternalTag","tagProps","ref","prefixCls","customizePrefixCls","className","rootClassName","style","onClose","closeIcon","closable","bordered","props","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","getPrefixCls","visible","setVisible","isInternalColor","tagStyle","wrapSSR","hashId","tagClassName","handleCloseClick","stopPropagation","defaultPrevented","mergedCloseIcon","useClosable","iconNode","CloseOutlined","isNeedWave","kids","tagNode","component","CheckableTag","onChange","restProps","__rest","cls"],"sourceRoot":""}