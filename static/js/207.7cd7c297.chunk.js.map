{"version":3,"file":"static/js/207.7cd7c297.chunk.js","mappings":"6OAWA,MAAMA,EAAoB,WACxB,MAAOC,GAAQ,QAAEC,EAAO,SAAEC,KAAcC,EAAAA,EAAAA,IAAW,GACnD,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,UACtCF,EAAAA,EAAAA,KAAA,OACEC,UAAY,iBAAgBL,GAAU,WACtCO,QAAUC,IACR,MAAMC,EACJD,EAAME,cAAcC,QAAQ,mBACxBC,EACJH,GAAmBI,qBAAqB,OAAO,GAAGC,UACpDC,IAAKH,GAAQ,IAAII,MAAK,KACpBf,IACAgB,WAAWf,EAAU,KAAK,GAC1B,EACFI,SAEAN,GAcAI,EAAAA,EAAAA,KAAA,OACE,cAAY,OACZc,OAAO,KACPC,QAAQ,YACRC,QAAQ,MACRC,MAAM,KACN,sBAAoB,OACpBhB,UAAU,2BAA0BC,UAEpCF,EAAAA,EAAAA,KAAA,QAAMkB,EAAE,0KAtBVC,EAAAA,EAAAA,MAAA,OACE,cAAY,OACZL,OAAO,KACPC,QAAQ,YACRC,QAAQ,MACRC,MAAM,KACN,sBAAoB,OACpBhB,UAAU,UAASC,SAAA,EAEnBF,EAAAA,EAAAA,KAAA,QAAMkB,EAAE,qNACRlB,EAAAA,EAAAA,KAAA,QAAMkB,EAAE,wOAkBpB,EA8BA,UA5BiDE,EAAGC,eAClD,MAAMC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IAE9B,OACExB,EAAAA,EAAAA,KAAA,OACEC,UAAU,gBACV,aAAYqB,EACZG,MAAO,CAAEC,QAAS,IAAKxB,UAEvBF,EAAAA,EAAAA,KAAC2B,EAAAA,EAAa,CACZC,cAAe,CAACC,EAAAA,GAChBC,cAAe,CAACC,EAAAA,GAChBC,UAAU,EACVC,WAAY,CACVC,IAAKA,EAAGhC,eACNiB,EAAAA,EAAAA,MAAA,OAAKlB,UAAU,2BAA0BC,SAAA,EACvCF,EAAAA,EAAAA,KAAA,OAAAE,SAAMA,KACNF,EAAAA,EAAAA,KAACL,EAAiB,QAGtBO,SAEDmB,KAEC,C","sources":["webpack://react-admin-web/./src/components/Markdown/index.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useBoolean } from \"ahooks\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport remarkGfm from \"remark-gfm\";\r\nimport { selectTheme } from \"@/store/system\";\r\nimport { useSelector } from \"react-redux\";\r\nimport copy from \"clipboard-copy\";\r\nimport rehypeHighlight from \"rehype-highlight\"; // 代码块高亮插件\r\nimport \"./github-markdown.css\"; // GitHub Markdown 样式\r\nimport \"./github-highlight.css\"; // github hightlight 样式\r\n\r\nconst CopyCodeContainer = function () {\r\n  const [copied, { setTrue, setFalse }] = useBoolean(false);\r\n  return (\r\n    <div className=\"zeroclipboard-container\">\r\n      <div\r\n        className={`copy-code-btn ${copied && \"copied\"}`}\r\n        onClick={(event) => {\r\n          const codeContainerNode =\r\n            event.currentTarget.closest(\".code-container\");\r\n          const text =\r\n            codeContainerNode?.getElementsByTagName(\"pre\")[0].innerText;\r\n          copy(text || \"\").then(() => {\r\n            setTrue();\r\n            setTimeout(setFalse, 1500);\r\n          });\r\n        }}\r\n      >\r\n        {!copied ? (\r\n          <svg\r\n            aria-hidden=\"true\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 16 16\"\r\n            version=\"1.1\"\r\n            width=\"16\"\r\n            data-view-component=\"true\"\r\n            className=\"octicon\"\r\n          >\r\n            <path d=\"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z\"></path>\r\n            <path d=\"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z\"></path>\r\n          </svg>\r\n        ) : (\r\n          <svg\r\n            aria-hidden=\"true\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 16 16\"\r\n            version=\"1.1\"\r\n            width=\"16\"\r\n            data-view-component=\"true\"\r\n            className=\"octicon color-fg-success\"\r\n          >\r\n            <path d=\"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z\"></path>\r\n          </svg>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Markdown: React.FC<{ markdown: string }> = ({ markdown }) => {\r\n  const themeName = useSelector(selectTheme);\r\n\r\n  return (\r\n    <div\r\n      className=\"markdown-body\"\r\n      data-theme={themeName}\r\n      style={{ padding: 24 }}\r\n    >\r\n      <ReactMarkdown\r\n        remarkPlugins={[remarkGfm]}\r\n        rehypePlugins={[rehypeHighlight]}\r\n        skipHtml={true} // 禁止 react-markdown 将 HTML 标签包裹在 <p> 元素内部\r\n        components={{\r\n          pre: ({ children }) => (\r\n            <div className=\"highlight code-container\">\r\n              <pre>{children}</pre>\r\n              <CopyCodeContainer />\r\n            </div>\r\n          ),\r\n        }}\r\n      >\r\n        {markdown}\r\n      </ReactMarkdown>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Markdown;\r\n"],"names":["CopyCodeContainer","copied","setTrue","setFalse","useBoolean","_jsx","className","children","onClick","event","codeContainerNode","currentTarget","closest","text","getElementsByTagName","innerText","copy","then","setTimeout","height","viewBox","version","width","d","_jsxs","Markdown","markdown","themeName","useSelector","selectTheme","style","padding","ReactMarkdown","remarkPlugins","remarkGfm","rehypePlugins","rehypeHighlight","skipHtml","components","pre"],"sourceRoot":""}