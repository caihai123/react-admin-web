"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[791],{826:function(e,t,r){r.d(t,{Z:function(){return G}});var n=r(9526),o=r(5642),l=r(8175),i=r(5293),a=r(592),s=r(7806),c=r(1439),d=r(4437),u=r(8589),h=r(7557);const p="188px",m=(0,d.ZP)(o.Z)`
  position: relative;
  overflow-y: hidden;
  padding-top: 16px;
  &:after {
    content: "";
    display: inline-block;
    width: ${p};
    height: 32px;
    vertical-align: top;
    margin-bottom: 16px;
  }
  & .ant-form-item {
    margin-bottom: 16px;
  }
`,g=(0,d.ZP)(o.Z.Item)`
  position: absolute;
  right: -16px;
  bottom: 0;
  z-index: 10;
`;var f=(0,n.forwardRef)((function(e,t){const[r]=o.Z.useForm(),[d,{setTrue:f,setFalse:b}]=(0,u.Z)(!1),{children:x,style:y,className:j,...C}=e,k=function(){r.resetFields(),r.submit()};return(0,n.useImperativeHandle)(t,(()=>({submit:r.submit,reset:k}))),(0,h.jsx)(l.Z,{bodyStyle:{paddingTop:0,paddingBottom:0},style:y,className:j,children:(0,h.jsxs)(m,{layout:"inline",style:{height:d?"auto":"64px",paddingRight:d?"0":p},form:r,...C,children:[x,(0,h.jsx)(g,{children:(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(a.ZP,{type:"primary",htmlType:"submit",children:"查询"}),(0,h.jsx)(a.ZP,{onClick:()=>k(),children:"重置"}),d?(0,h.jsxs)(a.ZP,{type:"link",style:{padding:0},onClick:()=>b(),children:["收起",(0,h.jsx)(s.Z,{style:{marginInlineStart:0}})]}):(0,h.jsxs)(a.ZP,{type:"link",style:{padding:0},onClick:()=>f(),children:["展开",(0,h.jsx)(c.Z,{style:{marginInlineStart:0}})]})]})})]})})})),b=r(446),x=r(4785),y=r(5466),j=r(990),C={"tools-bar":"ghwuoi3NE3Ry7s7fNzAi","header-title":"mtRVkLbROTli4p1ohQ5i","tool-right":"gpJXWmO55r2tH9Z_hXa6","toolbar-setting":"whG6r6ufswl2doZWNUEI","toolbar-setting-item":"te8gfQS8fuVGrAEe5Wko","batch-bar":"dDNrcy2mCFFeBtzOHKWq"},k=r(8001),v=r(2652),S=r.n(v),Z=r(4169),I=r(4622),P=r(8425),w=r(6619),$=r(3955),O=r(4878),T=function(e){const{children:t,value:r,onChange:o,options:l}=e,i=l.map((e=>e.value)),[s,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!0),p=e=>{o(e),c(!!e.length&&e.length<i.length),u(e.length===i.length)};return(0,h.jsx)(w.Z,{arrow:!1,content:(0,h.jsxs)("div",{style:{minWidth:176},children:[(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)($.Z,{indeterminate:s,onChange:e=>{o(e.target.checked?i:[]),c(!1),u(e.target.checked)},checked:d,children:"列展示"}),(0,h.jsx)(a.ZP,{type:"link",style:{height:22,lineHeight:1,padding:0},onClick:()=>p(i),children:"重置"})]}),(0,h.jsx)(O.Z,{style:{margin:"4px 0"}}),(0,h.jsx)($.Z.Group,{value:r,onChange:e=>p(e),style:{display:"block"},children:l.map((e=>(0,h.jsx)($.Z,{style:{display:"flex",margin:0},value:e.value,children:e.label},e.value)))})]}),placement:"bottomRight",trigger:"click",children:t})},R=r(6843);function N({item:e}){return(0,h.jsx)(o.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,h.jsx)(R.Z,{placeholder:`请输入${e.title}`,...e.fieldProps})})}var z=r(7979);function B({item:e}){return(0,h.jsx)(o.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,h.jsx)(z.Z,{placeholder:`请选择${e.title}`,options:e.options,style:{width:183},...e.fieldProps})})}function E({item:e}){return(0,h.jsx)(o.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,h.jsx)($.Z.Group,{options:e.options,...e.fieldProps})})}var F=r(3124);function H({item:e}){return(0,h.jsx)(o.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,h.jsx)(F.ZP.Group,{options:e.options,...e.fieldProps})})}var D=r(5184);function W({item:e}){return(0,h.jsx)(o.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,h.jsx)(D.default,{...e.fieldProps})})}const{RangePicker:M}=D.default;function K({item:e}){return(0,h.jsx)(o.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,h.jsx)(M,{style:{width:250},...e.fieldProps})})}function _({item:e}){if(e.renderFormItem)return e.renderFormItem();switch(e.type){case"select":return(0,h.jsx)(B,{item:e});case"checkbox":return(0,h.jsx)(E,{item:e});case"radio":return(0,h.jsx)(H,{item:e});case"date":return(0,h.jsx)(W,{item:e});case"dateRange":return(0,h.jsx)(K,{item:e});default:return(0,h.jsx)(N,{item:e})}}const q=function(e){return e.key||e.dataIndex},A="large",L=(0,n.forwardRef)((function(e,t){const{columns:r=[],search:o=!0,toolBarRender:s=null,headerTitle:c,batchBarRender:d=null,tableRowSelection:u={},pagination:p=!0}=e,m=(0,n.useMemo)((()=>Object.fromEntries(r.filter((e=>void 0!==e.initialValue)).map((({dataIndex:e,initialValue:t})=>[e,t])))),[r]),g=(0,n.useMemo)((()=>r.filter((e=>!0!==e.hideInSearch)).map((e=>(0,h.jsx)(_,{item:e},q(e))))),[r]),v=(0,n.useMemo)((()=>r.filter((e=>!0!==e.hideInTable))),[r]),[S,w]=(0,n.useState)(v.map((e=>q(e)))),[$,O]=(0,n.useState)(m),R=(0,n.useRef)(null),{data:N,pagination:z,loading:B,refresh:E}=(0,k.Z)((({current:t,pageSize:r})=>e.request($,{current:t,pageSize:r})),{refreshDeps:[$],defaultCurrent:p?.current||1,defaultPageSize:p?.pageSize||10,loadingDelay:300}),[F,H]=(0,n.useState)(A),[D,W]=(0,n.useState)([]);(0,n.useImperativeHandle)(t,(()=>({refresh:E,search:()=>{const e=R?.current?.submit;e?e():O(null)},reset:()=>{const e=R?.current?.reset;e?e():O(null)},clearSelected:()=>W([])})));const{token:{borderRadius:M,controlItemBgActive:K,colorText:L}}=b.default.useToken();return(0,h.jsxs)(h.Fragment,{children:[o&&(0,h.jsx)(f,{ref:R,onFinish:e=>O(e),initialValues:m,children:g}),(0,h.jsxs)(l.Z,{style:{marginTop:16},bodyStyle:{paddingTop:16,paddingBottom:p?0:24},children:[(0,h.jsxs)("div",{className:C["tools-bar"],style:{display:D.length>0?"none":"",color:L},children:[(0,h.jsx)("div",{className:C["header-title"],children:"function"==typeof c?c():c}),(0,h.jsxs)("div",{className:C["tool-right"],children:[s&&(0,h.jsx)(i.Z,{children:"function"==typeof s?s():s}),(0,h.jsxs)("div",{className:C["toolbar-setting"],children:[(0,h.jsx)("div",{className:C["toolbar-setting-item"],onClick:()=>E(),children:(0,h.jsx)(x.Z,{title:"刷新",children:(0,h.jsx)(Z.Z,{})})}),(0,h.jsx)(y.Z,{overlayStyle:{width:80},menu:{items:[{key:"large",label:"默认"},{key:"middle",label:"中等"},{key:"small",label:"紧凑"}],selectable:!0,defaultSelectedKeys:[A],onClick:({key:e})=>H(e)},trigger:["click"],children:(0,h.jsx)("div",{className:C["toolbar-setting-item"],children:(0,h.jsx)(x.Z,{title:"密度",children:(0,h.jsx)(I.Z,{})})})}),(0,h.jsx)(T,{value:S,options:v.map((e=>({label:e.title,value:q(e)}))),onChange:e=>w(e),children:(0,h.jsx)("div",{className:C["toolbar-setting-item"],children:(0,h.jsx)(x.Z,{title:"列设置",children:(0,h.jsx)(P.Z,{})})})})]})]})]}),d&&(0,h.jsxs)("div",{className:C["batch-bar"],style:{display:D.length>0?"":"none",color:L,backgroundColor:K,borderRadius:M},children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:["已选 ",D.length," 项"]}),(0,h.jsx)(a.ZP,{type:"link",onClick:()=>W([]),children:"取消选择"})]}),(0,h.jsx)(i.Z,{children:"function"==typeof d?d(D):d})]}),(0,h.jsx)("div",{className:C.main,children:(0,h.jsx)(j.Z,{rowKey:e.rowKey,dataSource:N?.list,columns:v.filter((e=>{const t=q(e);return S.includes(t)})),pagination:!!p&&{current:z.current,pageSize:z.pageSize,total:z.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`第 ${t.join("-")} 条/共 ${e} 条`,onChange:z.onChange,...p},loading:B,rowSelection:d?{type:"checkbox",selectedRowKeys:D,onChange:e=>W(e),preserveSelectedRowKeys:!0,...u}:void 0,bordered:!0,size:F,scroll:{x:"max-content"}})})]})]})}));L.propTypes={rowKey:S().string.isRequired,request:S().func.isRequired,columns:S().array.isRequired,search:S().bool,toolBarRender:S().oneOfType([S().element,S().array,S().func]),headerTitle:S().oneOfType([S().element,S().array,S().func,S().string]),batchBarRender:S().oneOfType([S().element,S().array,S().func]),tableRowSelection:S().object,pagination:S().oneOfType([S().object,S().bool])};var G=L},2331:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(7431),o=r(4403),l=r.n(o),i=r(9526),a=r(159),s=r(9651),c=r(5342),d=r(1351),u=r(7606),h=r(8681),p=r(4237);const m=(e,t,r)=>{const n="string"!=typeof(o=r)?o:o.charAt(0).toUpperCase()+o.slice(1);var o;return{[`${e.componentCls}-${t}`]:{color:e[`color${r}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`]}}},g=e=>(0,u.Z)(e,((t,r)=>{let{textColor:n,lightBorderColor:o,lightColor:l,darkColor:i}=r;return{[`${e.componentCls}-${t}`]:{color:n,background:l,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})),f=e=>{const{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:n,componentCls:o}=e,l=n-r,i=t-r;return{[o]:Object.assign(Object.assign({},(0,d.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${o}-close-icon`]:{marginInlineStart:i,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var b=(0,h.Z)("Tag",(e=>{const{fontSize:t,lineHeight:r,lineWidth:n,fontSizeIcon:o}=e,l=Math.round(t*r),i=e.fontSizeSM,a=l-2*n,s=e.colorFillQuaternary,c=e.colorText,d=(0,p.TS)(e,{tagFontSize:i,tagLineHeight:a,tagDefaultBg:s,tagDefaultColor:c,tagIconSize:o-2*n,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[f(d),g(d),m(d,"success","Success"),m(d,"processing","Info"),m(d,"error","Error"),m(d,"warning","Warning")]}));const x=(e,t)=>{const{prefixCls:r,className:o,rootClassName:d,style:u,children:h,icon:p,color:m,onClose:g,closeIcon:f,closable:x=!1,bordered:y=!0}=e,j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:C,direction:k}=i.useContext(c.E_),[v,S]=i.useState(!0);i.useEffect((()=>{"visible"in j&&S(j.visible)}),[j.visible]);const Z=(0,a.o2)(m)||(0,a.yT)(m),I=Object.assign({backgroundColor:m&&!Z?m:void 0},u),P=C("tag",r),[w,$]=b(P),O=l()(P,{[`${P}-${m}`]:Z,[`${P}-has-color`]:m&&!Z,[`${P}-hidden`]:!v,[`${P}-rtl`]:"rtl"===k,[`${P}-borderless`]:!y},o,d,$),T=e=>{e.stopPropagation(),null==g||g(e),e.defaultPrevented||S(!1)},R=i.useMemo((()=>x?f?i.createElement("span",{className:`${P}-close-icon`,onClick:T},f):i.createElement(n.Z,{className:`${P}-close-icon`,onClick:T}):null),[x,f,P,T]),N="function"==typeof j.onClick||h&&"a"===h.type,z=p||null,B=z?i.createElement(i.Fragment,null,z,i.createElement("span",null,h)):h,E=i.createElement("span",Object.assign({},j,{ref:t,className:O,style:I}),B,R);return w(N?i.createElement(s.Z,null,E):E)},y=i.forwardRef(x);y.CheckableTag=e=>{const{prefixCls:t,className:r,checked:n,onChange:o,onClick:a}=e,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:d}=i.useContext(c.E_),u=d("tag",t),[h,p]=b(u),m=l()(u,{[`${u}-checkable`]:!0,[`${u}-checkable-checked`]:n},r,p);return h(i.createElement("span",Object.assign({},s,{className:m,onClick:e=>{null==o||o(!n),null==a||a(e)}})))};var j=y}}]);
//# sourceMappingURL=791.e12b4d58.chunk.js.map