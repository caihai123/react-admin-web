"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[770],{6430:function(e,t,n){n.d(t,{Z:function(){return J}});var a=n(9526),i=n(2116),l=n(8175),r=n(1821),s=n(592),o=n(7806),d=n(1439),c=n(4437),u=n(8589),m=n(7557);const p="188px",h=(0,c.ZP)(i.Z)`
  position: relative;
  overflow-y: hidden;
  padding-top: 16px;
  &:after {
    content: "";
    display: inline-block;
    width: ${p};
    height: 32px;
    vertical-align: top;
    margin-bottom: 16px;
  }
  & .ant-form-item {
    margin-bottom: 16px;
  }
`,x=(0,c.ZP)(i.Z.Item)`
  position: absolute;
  right: -16px;
  bottom: 0;
  z-index: 10;
`;var g=(0,a.forwardRef)((function(e,t){const[n]=i.Z.useForm(),[c,{setTrue:g,setFalse:y}]=(0,u.Z)(!1),{children:f,style:b,className:j,...Z}=e,k=function(){n.resetFields(),n.submit()};return(0,a.useImperativeHandle)(t,(()=>({submit:n.submit,reset:k}))),(0,m.jsx)(l.Z,{bodyStyle:{paddingTop:0,paddingBottom:0},style:b,className:j,children:(0,m.jsxs)(h,{layout:"inline",style:{height:c?"auto":"64px",paddingRight:c?"0":p},form:n,...Z,children:[f,(0,m.jsx)(x,{children:(0,m.jsxs)(r.Z,{children:[(0,m.jsx)(s.ZP,{type:"primary",htmlType:"submit",children:"查询"}),(0,m.jsx)(s.ZP,{onClick:()=>k(),children:"重置"}),c?(0,m.jsxs)(s.ZP,{type:"link",style:{padding:0},onClick:()=>y(),children:["收起",(0,m.jsx)(o.Z,{style:{marginInlineStart:0}})]}):(0,m.jsxs)(s.ZP,{type:"link",style:{padding:0},onClick:()=>g(),children:["展开",(0,m.jsx)(d.Z,{style:{marginInlineStart:0}})]})]})})]})})})),y=n(4059),f=n(4785),b=n(1992),j=n(7457),Z={"tools-bar":"ghwuoi3NE3Ry7s7fNzAi","header-title":"mtRVkLbROTli4p1ohQ5i","tool-right":"gpJXWmO55r2tH9Z_hXa6","toolbar-setting":"whG6r6ufswl2doZWNUEI","toolbar-setting-item":"te8gfQS8fuVGrAEe5Wko","batch-bar":"dDNrcy2mCFFeBtzOHKWq"},k=n(8001),I=n(2652),v=n.n(I),R=n(4169),w=n(4622),P=n(8425),S=n(6044),C=n(9827),T=n(4878),N=function(e){const{children:t,value:n,onChange:i,options:l}=e,r=l.map((e=>e.value)),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!0),p=e=>{i(e),d(!!e.length&&e.length<r.length),u(e.length===r.length)};return(0,m.jsx)(S.Z,{arrow:!1,content:(0,m.jsxs)("div",{style:{minWidth:176},children:[(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(C.Z,{indeterminate:o,onChange:e=>{i(e.target.checked?r:[]),d(!1),u(e.target.checked)},checked:c,children:"列展示"}),(0,m.jsx)(s.ZP,{type:"link",style:{height:22,lineHeight:1,padding:0},onClick:()=>p(r),children:"重置"})]}),(0,m.jsx)(T.Z,{style:{margin:"4px 0"}}),(0,m.jsx)(C.Z.Group,{value:n,onChange:e=>p(e),style:{display:"block"},children:l.map((e=>(0,m.jsx)(C.Z,{style:{display:"flex",margin:0},value:e.value,children:e.label},e.value)))})]}),placement:"bottomRight",trigger:"click",children:t})},q=n(6843);function z({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(q.Z,{placeholder:`请输入${e.title}`,...e.fieldProps})})}var B=n(4374);function F({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(B.Z,{placeholder:`请选择${e.title}`,options:e.options,style:{width:183},...e.fieldProps})})}function V({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(C.Z.Group,{options:e.options,...e.fieldProps})})}var K=n(3124);function O({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(K.ZP.Group,{options:e.options,...e.fieldProps})})}var A=n(296);function $({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(A.default,{...e.fieldProps})})}const{RangePicker:G}=A.default;function H({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(G,{style:{width:250},...e.fieldProps})})}var W=n(5827);function _({item:e}){return(0,m.jsx)(i.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,m.jsx)(W.Z,{placeholder:`请选择${e.title}`,treeData:e.options,style:{width:183},...e.fieldProps})})}function D({item:e}){if(e.renderFormItem)return e.renderFormItem();switch(e.type){case"select":return(0,m.jsx)(F,{item:e});case"checkbox":return(0,m.jsx)(V,{item:e});case"radio":return(0,m.jsx)(O,{item:e});case"date":return(0,m.jsx)($,{item:e});case"dateRange":return(0,m.jsx)(H,{item:e});case"treeSelect":return(0,m.jsx)(_,{item:e});default:return(0,m.jsx)(z,{item:e})}}const E=function(e){return e.key||e.dataIndex},M="large",Q=(0,a.forwardRef)((function(e,t){const{dataSource:n,columns:i=[],search:o=!0,toolBarRender:d=null,headerTitle:c,batchBarRender:u=null,tableRowSelection:p={},pagination:h=!0,loading:x,onRefresh:I,onSubmit:v,onReset:S}=e,C=(0,a.useMemo)((()=>Object.fromEntries(i.filter((e=>void 0!==e.initialValue)).map((({dataIndex:e,initialValue:t})=>[e,t])))),[i]),T=(0,a.useMemo)((()=>i.filter((e=>!0!==e.hideInSearch)).map((e=>(0,m.jsx)(D,{item:e},E(e))))),[i]),q=(0,a.useMemo)((()=>i.filter((e=>!0!==e.hideInTable))),[i]),[z,B]=(0,a.useState)(q.map((e=>E(e)))),[F,V]=(0,a.useState)(C),K=(0,a.useRef)(null),O=(0,k.Z)((({current:t,pageSize:a})=>!Array.isArray(n)&&e.request?.(F,{current:t,pageSize:a})),{refreshDeps:[F],defaultCurrent:h?.current||1,defaultPageSize:h?.pageSize||10,loadingDelay:300}),A=(0,a.useMemo)((()=>{const e=Array.isArray(n),t={showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`第 ${t.join("-")} 条/共 ${e} 条`,style:{marginBottom:-8},...h},{data:a,pagination:i,refresh:l}=O;return{list:e?n:a?.list,pagination:!!h&&(e?t:{current:i.current,pageSize:i.pageSize,total:i.total,onChange:i.onChange,...t}),loading:"boolean"==typeof x?x:!e&&O.loading,refresh:()=>{!e&&l(),I?.(F)}}}),[n,O,h,x,F,I]),[$,G]=(0,a.useState)(M),[H,W]=(0,a.useState)([]);(0,a.useImperativeHandle)(t,(()=>({refresh:A.refresh,search:()=>{const e=K?.current?.submit;e?e():V(null),v?.(F)},reset:()=>{const e=K?.current?.reset;e?e():V(null),S?.(F)},clearSelected:()=>W([])})));const{token:{borderRadius:_,controlItemBgActive:Q,colorText:J}}=y.default.useToken();return(0,m.jsxs)(m.Fragment,{children:[o&&(0,m.jsx)(g,{ref:K,onFinish:e=>V(e),initialValues:C,children:T}),(0,m.jsxs)(l.Z,{style:{marginTop:o?16:0},bodyStyle:{paddingTop:16,paddingBottom:24},children:[(0,m.jsxs)("div",{className:Z["tools-bar"],style:{display:H.length>0?"none":"",color:J},children:[(0,m.jsx)("div",{className:Z["header-title"],children:"function"==typeof c?c():c}),(0,m.jsxs)("div",{className:Z["tool-right"],children:[d&&(0,m.jsx)(r.Z,{children:"function"==typeof d?d():d}),(0,m.jsxs)("div",{className:Z["toolbar-setting"],children:[(0,m.jsx)("div",{className:Z["toolbar-setting-item"],onClick:A.refresh,children:(0,m.jsx)(f.Z,{title:"刷新",children:(0,m.jsx)(R.Z,{})})}),(0,m.jsx)(b.Z,{overlayStyle:{width:80},menu:{items:[{key:"large",label:"默认"},{key:"middle",label:"中等"},{key:"small",label:"紧凑"}],selectable:!0,defaultSelectedKeys:[M],onClick:({key:e})=>G(e)},trigger:["click"],children:(0,m.jsx)("div",{className:Z["toolbar-setting-item"],children:(0,m.jsx)(f.Z,{title:"密度",children:(0,m.jsx)(w.Z,{})})})}),(0,m.jsx)(N,{value:z,options:q.map((e=>({label:e.title,value:E(e)}))),onChange:e=>B(e),children:(0,m.jsx)("div",{className:Z["toolbar-setting-item"],children:(0,m.jsx)(f.Z,{title:"列设置",children:(0,m.jsx)(P.Z,{})})})})]})]})]}),u&&(0,m.jsxs)("div",{className:Z["batch-bar"],style:{display:H.length>0?"":"none",color:J,backgroundColor:Q,borderRadius:_},children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("span",{children:["已选 ",H.length," 项"]}),(0,m.jsx)(s.ZP,{type:"link",onClick:()=>W([]),children:"取消选择"})]}),(0,m.jsx)(r.Z,{children:"function"==typeof u?u(H):u})]}),(0,m.jsx)("div",{className:Z.main,children:(0,m.jsx)(j.Z,{rowKey:e.rowKey,dataSource:A.list,columns:q.filter((e=>{const t=E(e);return z.includes(t)})),pagination:A.pagination,loading:A.loading,rowSelection:u?{type:"checkbox",selectedRowKeys:H,onChange:e=>W(e),preserveSelectedRowKeys:!0,...p}:void 0,bordered:!0,size:$,scroll:{x:"max-content"}})})]})]})}));Q.propTypes={rowKey:v().string.isRequired,dataSource:v().array,request:v().func,onRefresh:v().func,onSubmit:v().func,onReset:v().func,columns:v().array.isRequired,search:v().bool,loading:v().bool,toolBarRender:v().oneOfType([v().element,v().array,v().func]),headerTitle:v().oneOfType([v().element,v().array,v().func,v().string]),batchBarRender:v().oneOfType([v().element,v().array,v().func]),tableRowSelection:v().object,pagination:v().oneOfType([v().object,v().bool])};var J=Q},7770:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(6430),i=n(2116),l=n(4444),r=n(7132),s=n(592),o=n(1314),d=n(8047),c=n(7557);function u(){const e=[{title:"text",dataIndex:"text",initialValue:"1"},{title:"select",dataIndex:"select",type:"select",options:[{label:"选项一",value:1},{label:"选项二",value:2},{label:"选项三",value:3}],initialValue:1},{title:"checkbox",dataIndex:"checkbox",type:"checkbox",options:[{label:"选项一",value:1},{label:"选项二",value:2},{label:"选项三",value:3}],initialValue:[1,2]},{title:"radio",dataIndex:"radio",type:"radio",options:[{label:"选项一",value:1},{label:"选项二",value:2},{label:"选项三",value:3}],initialValue:1},{title:"date",dataIndex:"date",type:"date"},{title:"dateTime",dataIndex:"dateTime",type:"date",fieldProps:{showTime:!0}},{title:"week",dataIndex:"week",type:"date",fieldProps:{picker:"week"}},{title:"month",dataIndex:"month",type:"date",fieldProps:{picker:"month"}},{title:"quarter",dataIndex:"quarter",type:"date",fieldProps:{picker:"quarter"}},{title:"year",dataIndex:"year",type:"date",fieldProps:{picker:"year"}},{title:"dateRange",dataIndex:"dateRange",type:"dateRange"},{title:"dateTimeRange",dataIndex:"dateTimeRange",type:"dateRange",fieldProps:{showTime:!0}},{title:"weekRange",dataIndex:"weekRange",type:"dateRange",fieldProps:{picker:"week"}},{title:"monthRange",dataIndex:"monthRange",type:"dateRange",fieldProps:{picker:"month"}},{title:"quarterRange",dataIndex:"quarterRange",type:"dateRange",fieldProps:{picker:"quarter"}},{title:"yearRange",dataIndex:"yearRange",type:"dateRange",fieldProps:{picker:"year"}},{title:"custom",dataIndex:"custom",renderFormItem:()=>(0,c.jsx)(i.Z.Item,{label:"custom",name:"custom",children:(0,c.jsx)(l.Z,{style:{width:200}})})}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.Z,{message:"此页面主要演示搜索表单栏的配置项",type:"info",showIcon:!0,closable:!0}),(0,c.jsx)(a.Z,{rowKey:"id",headerTitle:"数据列表",columns:e,request:()=>({list:[{id:"1",text:"text",select:"select"}]}),batchBarRender:[(0,c.jsx)(s.ZP,{type:"primary",danger:!0,onClick:()=>o.ZP.warning("演示功能"),children:"批量删除"},"del"),(0,c.jsx)(s.ZP,{type:"primary",onClick:()=>o.ZP.warning("演示功能"),children:"导出数据"},"export")],toolBarRender:(0,c.jsx)(s.ZP,{type:"primary",icon:(0,c.jsx)(d.Z,{}),onClick:()=>o.ZP.warning("演示功能"),children:"新增"}),pagination:!1})]})}}}]);
//# sourceMappingURL=770.e82cc643.chunk.js.map