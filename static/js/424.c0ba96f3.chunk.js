"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[424],{3227:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(2331),n=a(9367),i=a(1821),d=a(592),l=a(1314),p=a(3716),s=a(6430),o=a(8047),u=a(3736),c=a(395),y=a(7557);function m(){const{data:e}=(0,c.uD)(),t=[{title:"真实姓名",dataIndex:"name"},{title:"账号",dataIndex:"account"},{title:"性别",dataIndex:"gender",render:e=>{const t=u.zH.map[e],a={color:t?.color||"rgba(0,0,0,.25)",label:t?.label||"未知"};return(0,y.jsx)(r.Z,{color:a.color,children:a.label})},type:"select",options:u.zH.options},{title:"手机号",dataIndex:"phone"},{title:"邮箱",dataIndex:"email"},{title:"状态",dataIndex:"status",render:e=>(0,y.jsx)(n.Z,{checked:1===e}),type:"select",options:[{label:"启用",value:1},{label:"禁用",value:0}]},{title:"部门",dataIndex:"deptId",type:"treeSelect",options:e,render:(e,t)=>t.deptName},{title:"操作",key:"action",render:e=>(0,y.jsxs)(i.Z,{children:[(0,y.jsx)(d.ZP,{type:"primary",ghost:!0,size:"small",children:"编辑"}),(0,y.jsx)(d.ZP,{type:"primary",size:"small",children:"授权"}),(0,y.jsx)(d.ZP,{type:"primary",danger:!0,size:"small",children:"删除"})]}),width:100,fixed:"right",hideInSearch:!0}];return(0,y.jsx)(s.Z,{columns:t,rowKey:"id",headerTitle:"用户列表",request:(e,{current:t,pageSize:a})=>p.Z.post("/api/account/page",{params:e,pageIndex:t,pageSize:a}).then((e=>{const{result:t}=e;return{list:t.records,total:t.total}})),batchBarRender:[(0,y.jsx)(d.ZP,{type:"primary",danger:!0,onClick:()=>l.ZP.warning("演示功能"),children:"批量删除"},"del"),(0,y.jsx)(d.ZP,{type:"primary",onClick:()=>l.ZP.warning("演示功能"),children:"导出数据"},"export")],toolBarRender:(0,y.jsx)(d.ZP,{type:"primary",icon:(0,y.jsx)(o.Z,{}),onClick:()=>l.ZP.warning("演示功能"),children:"新增"})})}},395:function(e,t,a){a.d(t,{EY:function(){return i},NY:function(){return s},uD:function(){return d}});var r=a(8491);const n=r.Z.injectEndpoints({endpoints:e=>({getDeptAll:e.query({query:()=>"/api/dept/list",providesTags:["deptList"]}),getDeptSelect:e.query({query:()=>"/api/dept/select",providesTags:["DeptSelect"]}),addDeptItem:e.mutation({query:e=>({url:"/api/dept/add",method:"POST",body:e}),invalidatesTags:["deptList","DeptSelect"]}),updateDeptItem:e.mutation({query:e=>({url:"/api/dept/update",method:"POST",body:e}),invalidatesTags:["deptList","DeptSelect"]}),deleteDeptItem:e.mutation({query:e=>({url:"/api/dept/delete",method:"POST",body:e}),invalidatesTags:["deptList","DeptSelect"],async onQueryStarted({id:e},{dispatch:t,queryFulfilled:a}){const n=t(r.Z.util.updateQueryData("getDeptAll",void 0,(t=>t.filter((t=>t.id!==e)))));try{await a}catch{n.undo()}}})})}),{useGetDeptAllQuery:i,useGetDeptSelectQuery:d,useAddDeptItemMutation:l,useUpdateDeptItemMutation:p,useDeleteDeptItemMutation:s}=n}}]);
//# sourceMappingURL=424.c0ba96f3.chunk.js.map