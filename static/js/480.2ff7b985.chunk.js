(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[480],{60480:function(n,t,e){"use strict";e.d(t,{Z:function(){return W}});var r=e(33940),i=e(89526),o=e(83644),u=e(24867),a=function(n,t){var e=t.manual,o=t.ready,a=void 0===o||o,c=t.defaultParams,s=void 0===c?[]:c,l=t.refreshDeps,f=void 0===l?[]:l,v=t.refreshDepsAction,d=(0,i.useRef)(!1);return d.current=!1,(0,u.Z)((function(){!e&&a&&(d.current=!0,n.run.apply(n,(0,r.ev)([],(0,r.CR)(s),!1)))}),[a]),(0,u.Z)((function(){d.current||e||(d.current=!0,v?v():n.refresh())}),(0,r.ev)([],(0,r.CR)(f),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};a.onInit=function(n){var t=n.ready,e=void 0===t||t;return{loading:!n.manual&&e}};var c=a;function s(n,t){var e=(0,i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==e.initialized&&function(n,t){if(n===t)return!0;for(var e=0;e<n.length;e++)if(!Object.is(n[e],t[e]))return!1;return!0}(e.deps,t)||(e.deps=t,e.obj=n(),e.initialized=!0),e.obj}var l=e(7569),f=new Map,v=new Map,d={},p=function(n,t){return d[n]||(d[n]=[]),d[n].push(t),function(){var e=d[n].indexOf(t);d[n].splice(e,1)}},h=function(n,t){var e=t.cacheKey,o=t.cacheTime,u=void 0===o?3e5:o,a=t.staleTime,c=void 0===a?0:a,h=t.setCache,g=t.getCache,m=(0,i.useRef)(),y=(0,i.useRef)(),b=function(n,t){h?h(t):function(n,t,e){var i=f.get(n);(null==i?void 0:i.timer)&&clearTimeout(i.timer);var o=void 0;t>-1&&(o=setTimeout((function(){f.delete(n)}),t)),f.set(n,(0,r.pi)((0,r.pi)({},e),{timer:o}))}(n,u,t),function(n,t){d[n]&&d[n].forEach((function(n){return n(t)}))}(n,t.data)},w=function(n,t){return void 0===t&&(t=[]),g?g(t):function(n){return f.get(n)}(n)};return s((function(){if(e){var t=w(e);t&&Object.hasOwnProperty.call(t,"data")&&(n.state.data=t.data,n.state.params=t.params,(-1===c||(new Date).getTime()-t.time<=c)&&(n.state.loading=!1)),m.current=p(e,(function(t){n.setState({data:t})}))}}),[]),(0,l.Z)((function(){var n;null===(n=m.current)||void 0===n||n.call(m)})),e?{onBefore:function(n){var t=w(e,n);return t&&Object.hasOwnProperty.call(t,"data")?-1===c||(new Date).getTime()-t.time<=c?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(n,t){var i=function(n){return v.get(n)}(e);return i&&i!==y.current||(i=n.apply(void 0,(0,r.ev)([],(0,r.CR)(t),!1)),y.current=i,function(n,t){v.set(n,t),t.then((function(t){return v.delete(n),t})).catch((function(){v.delete(n)}))}(e,i)),{servicePromise:i}},onSuccess:function(t,r){var i;e&&(null===(i=m.current)||void 0===i||i.call(m),b(e,{data:t,params:r,time:(new Date).getTime()}),m.current=p(e,(function(t){n.setState({data:t})})))},onMutate:function(t){var r;e&&(null===(r=m.current)||void 0===r||r.call(m),b(e,{data:t,params:n.state.params,time:(new Date).getTime()}),m.current=p(e,(function(t){n.setState({data:t})})))}}:{}},g=e(76897),m=e.n(g),y=function(n,t){var e=t.debounceWait,o=t.debounceLeading,u=t.debounceTrailing,a=t.debounceMaxWait,c=(0,i.useRef)(),s=(0,i.useMemo)((function(){var n={};return void 0!==o&&(n.leading=o),void 0!==u&&(n.trailing=u),void 0!==a&&(n.maxWait=a),n}),[o,u,a]);return(0,i.useEffect)((function(){if(e){var t=n.runAsync.bind(n);return c.current=m()((function(n){n()}),e,s),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise((function(e,i){var o;null===(o=c.current)||void 0===o||o.call(c,(function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(n),!1)).then(e).catch(i)}))}))},function(){var e;null===(e=c.current)||void 0===e||e.cancel(),n.runAsync=t}}}),[e,s]),e?{onCancel:function(){var n;null===(n=c.current)||void 0===n||n.cancel()}}:{}},b=function(n,t){var e=t.loadingDelay,r=t.ready,o=(0,i.useRef)();if(!e)return{};var u=function(){o.current&&clearTimeout(o.current)};return{onBefore:function(){return u(),!1!==r&&(o.current=setTimeout((function(){n.setState({loading:!0})}),e)),{loading:!1}},onFinally:function(){u()},onCancel:function(){u()}}},w=e(69122);function R(){return!w.Z||"hidden"!==document.visibilityState}var C=[];w.Z&&window.addEventListener("visibilitychange",(function(){if(R())for(var n=0;n<C.length;n++)(0,C[n])()}),!1);var T=function(n,t){var e=t.pollingInterval,r=t.pollingWhenHidden,o=void 0===r||r,a=t.pollingErrorRetryCount,c=void 0===a?-1:a,s=(0,i.useRef)(),l=(0,i.useRef)(),f=(0,i.useRef)(0),v=function(){var n;s.current&&clearTimeout(s.current),null===(n=l.current)||void 0===n||n.call(l)};return(0,u.Z)((function(){e||v()}),[e]),e?{onBefore:function(){v()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){-1===c||-1!==c&&f.current<=c?s.current=setTimeout((function(){var t;o||R()?n.refresh():l.current=(t=function(){n.refresh()},C.push(t),function(){var n=C.indexOf(t);C.splice(n,1)})}),e):f.current=0},onCancel:function(){v()}}:{}},P=[];if(w.Z){var S=function(){if(R()&&(!w.Z||void 0===navigator.onLine||navigator.onLine))for(var n=0;n<P.length;n++)(0,P[n])()};window.addEventListener("visibilitychange",S,!1),window.addEventListener("focus",S,!1)}var x=function(n,t){var e=t.refreshOnWindowFocus,o=t.focusTimespan,u=void 0===o?5e3:o,a=(0,i.useRef)(),c=function(){var n;null===(n=a.current)||void 0===n||n.call(a)};return(0,i.useEffect)((function(){if(e){var t=(o=n.refresh.bind(n),s=u,l=!1,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];l||(l=!0,o.apply(void 0,(0,r.ev)([],(0,r.CR)(n),!1)),setTimeout((function(){l=!1}),s))});a.current=(i=function(){t()},P.push(i),function(){var n=P.indexOf(i);n>-1&&P.splice(n,1)})}var i,o,s,l;return function(){c()}}),[e,u]),(0,l.Z)((function(){c()})),{}},j=function(n,t){var e=t.retryInterval,r=t.retryCount,o=(0,i.useRef)(),u=(0,i.useRef)(0),a=(0,i.useRef)(!1);return r?{onBefore:function(){a.current||(u.current=0),a.current=!1,o.current&&clearTimeout(o.current)},onSuccess:function(){u.current=0},onError:function(){if(u.current+=1,-1===r||u.current<=r){var t=null!=e?e:Math.min(1e3*Math.pow(2,u.current),3e4);o.current=setTimeout((function(){a.current=!0,n.refresh()}),t)}else u.current=0},onCancel:function(){u.current=0,o.current&&clearTimeout(o.current)}}:{}},O=e(38172),Z=e.n(O),A=function(n,t){var e=t.throttleWait,o=t.throttleLeading,u=t.throttleTrailing,a=(0,i.useRef)(),c={};return void 0!==o&&(c.leading=o),void 0!==u&&(c.trailing=u),(0,i.useEffect)((function(){if(e){var t=n.runAsync.bind(n);return a.current=Z()((function(n){n()}),e,c),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise((function(e,i){var o;null===(o=a.current)||void 0===o||o.call(a,(function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(n),!1)).then(e).catch(i)}))}))},function(){var e;n.runAsync=t,null===(e=a.current)||void 0===e||e.cancel()}}}),[e,o,u]),e?{onCancel:function(){var n;null===(n=a.current)||void 0===n||n.cancel()}}:{}},E=e(9155),M=e(13309),N=e(51791),z=e(78961),H=function(){function n(n,t,e,i){void 0===i&&(i={}),this.serviceRef=n,this.options=t,this.subscribe=e,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,r.pi)((0,r.pi)((0,r.pi)({},this.state),{loading:!t.manual}),i)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=(0,r.pi)((0,r.pi)({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var i=this.pluginImpls.map((function(e){var i;return null===(i=e[n])||void 0===i?void 0:i.call.apply(i,(0,r.ev)([e],(0,r.CR)(t),!1))})).filter(Boolean);return Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(i),!1))},n.prototype.runAsync=function(){for(var n,t,e,i,o,u,a,c,s,l,f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return(0,r.mG)(this,void 0,void 0,(function(){var v,d,p,h,g,m,y,b,w,R,C;return(0,r.Jh)(this,(function(T){switch(T.label){case 0:if(this.count+=1,v=this.count,d=this.runPluginHandler("onBefore",f),p=d.stopNow,h=void 0!==p&&p,g=d.returnNow,m=void 0!==g&&g,y=(0,r._T)(d,["stopNow","returnNow"]),h)return[2,new Promise((function(){}))];if(this.setState((0,r.pi)({loading:!0,params:f},y)),m)return[2,Promise.resolve(y.data)];null===(t=(n=this.options).onBefore)||void 0===t||t.call(n,f),T.label=1;case 1:return T.trys.push([1,3,,4]),(b=this.runPluginHandler("onRequest",this.serviceRef.current,f).servicePromise)||(b=(C=this.serviceRef).current.apply(C,(0,r.ev)([],(0,r.CR)(f),!1))),[4,b];case 2:return w=T.sent(),v!==this.count?[2,new Promise((function(){}))]:(this.setState({data:w,error:void 0,loading:!1}),null===(i=(e=this.options).onSuccess)||void 0===i||i.call(e,w,f),this.runPluginHandler("onSuccess",w,f),null===(u=(o=this.options).onFinally)||void 0===u||u.call(o,f,w,void 0),v===this.count&&this.runPluginHandler("onFinally",f,w,void 0),[2,w]);case 3:if(R=T.sent(),v!==this.count)return[2,new Promise((function(){}))];throw this.setState({error:R,loading:!1}),null===(c=(a=this.options).onError)||void 0===c||c.call(a,R,f),this.runPluginHandler("onError",R,f),null===(l=(s=this.options).onFinally)||void 0===l||l.call(s,f,void 0,R),v===this.count&&this.runPluginHandler("onFinally",f,void 0,R),R;case 4:return[2]}}))}))},n.prototype.run=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(t),!1)).catch((function(t){n.options.onError||console.error(t)}))},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},n.prototype.mutate=function(n){var t=(0,z.mf)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}(),B=H,D=function(n,t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var u=t.manual,a=void 0!==u&&u,c=(0,r._T)(t,["manual"]);N.Z&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof t.defaultParams));var f,v=(0,r.pi)({manual:a},c),d=(0,E.Z)(n),p=(f=(0,r.CR)((0,i.useState)({}),2)[1],(0,i.useCallback)((function(){return f({})}),[])),h=s((function(){var n=e.map((function(n){var t;return null===(t=null==n?void 0:n.onInit)||void 0===t?void 0:t.call(n,v)})).filter(Boolean);return new B(d,v,p,Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(n),!1)))}),[]);return h.options=v,h.pluginImpls=e.map((function(n){return n(h,v)})),(0,M.Z)((function(){if(!a){var n=h.state.params||t.defaultParams||[];h.run.apply(h,(0,r.ev)([],(0,r.CR)(n),!1))}})),(0,l.Z)((function(){h.cancel()})),{loading:h.state.loading,data:h.state.data,error:h.state.error,params:h.state.params||[],cancel:(0,o.Z)(h.cancel.bind(h)),refresh:(0,o.Z)(h.refresh.bind(h)),refreshAsync:(0,o.Z)(h.refreshAsync.bind(h)),run:(0,o.Z)(h.run.bind(h)),runAsync:(0,o.Z)(h.runAsync.bind(h)),mutate:(0,o.Z)(h.mutate.bind(h))}},W=function(n,t){var e;void 0===t&&(t={});var u=t.defaultPageSize,a=void 0===u?10:u,s=t.defaultCurrent,l=void 0===s?1:s,f=(0,r._T)(t,["defaultPageSize","defaultCurrent"]),v=function(n,t,e){return D(n,t,(0,r.ev)((0,r.ev)([],(0,r.CR)(e||[]),!1),[y,b,T,x,A,c,h,j],!1))}(n,(0,r.pi)({defaultParams:[{current:l,pageSize:a}],refreshDepsAction:function(){S(1)}},f)),d=v.params[0]||{},p=d.current,g=void 0===p?1:p,m=d.pageSize,w=void 0===m?a:m,R=(null===(e=v.data)||void 0===e?void 0:e.total)||0,C=(0,i.useMemo)((function(){return Math.ceil(R/w)}),[w,R]),P=function(n,t){var e=n<=0?1:n,i=t<=0?1:t,o=Math.ceil(R/i);e>o&&(e=Math.max(1,o));var u=(0,r.CR)(v.params||[]),a=u[0],c=void 0===a?{}:a,s=u.slice(1);v.run.apply(v,(0,r.ev)([(0,r.pi)((0,r.pi)({},c),{current:e,pageSize:i})],(0,r.CR)(s),!1))},S=function(n){P(n,w)};return(0,r.pi)((0,r.pi)({},v),{pagination:{current:g,pageSize:w,total:R,totalPage:C,onChange:(0,o.Z)(P),changeCurrent:(0,o.Z)(S),changePageSize:(0,o.Z)((function(n){P(g,n)}))}})}},44937:function(n,t,e){var r=e(158).Symbol;n.exports=r},20194:function(n,t,e){var r=e(44937),i=e(15401),o=e(92445),u=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":u&&u in Object(n)?i(n):o(n)}},12383:function(n,t,e){var r=e(38725),i=/^\s+/;n.exports=function(n){return n?n.slice(0,r(n)+1).replace(i,""):n}},14528:function(n,t,e){var r="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g;n.exports=r},15401:function(n,t,e){var r=e(44937),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,a=r?r.toStringTag:void 0;n.exports=function(n){var t=o.call(n,a),e=n[a];try{n[a]=void 0;var r=!0}catch(n){}var i=u.call(n);return r&&(t?n[a]=e:delete n[a]),i}},92445:function(n){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},158:function(n,t,e){var r=e(14528),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();n.exports=o},38725:function(n){var t=/\s/;n.exports=function(n){for(var e=n.length;e--&&t.test(n.charAt(e)););return e}},76897:function(n,t,e){var r=e(23619),i=e(98253),o=e(95053),u=Math.max,a=Math.min;n.exports=function(n,t,e){var c,s,l,f,v,d,p=0,h=!1,g=!1,m=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(t){var e=c,r=s;return c=s=void 0,p=t,f=n.apply(r,e)}function b(n){var e=n-d;return void 0===d||e>=t||e<0||g&&n-p>=l}function w(){var n=i();if(b(n))return R(n);v=setTimeout(w,function(n){var e=t-(n-d);return g?a(e,l-(n-p)):e}(n))}function R(n){return v=void 0,m&&c?y(n):(c=s=void 0,f)}function C(){var n=i(),e=b(n);if(c=arguments,s=this,d=n,e){if(void 0===v)return function(n){return p=n,v=setTimeout(w,t),h?y(n):f}(d);if(g)return clearTimeout(v),v=setTimeout(w,t),y(d)}return void 0===v&&(v=setTimeout(w,t)),f}return t=o(t)||0,r(e)&&(h=!!e.leading,l=(g="maxWait"in e)?u(o(e.maxWait)||0,t):l,m="trailing"in e?!!e.trailing:m),C.cancel=function(){void 0!==v&&clearTimeout(v),p=0,c=d=s=v=void 0},C.flush=function(){return void 0===v?f:R(i())},C}},23619:function(n){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},81653:function(n){n.exports=function(n){return null!=n&&"object"==typeof n}},81878:function(n,t,e){var r=e(20194),i=e(81653);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},98253:function(n,t,e){var r=e(158);n.exports=function(){return r.Date.now()}},38172:function(n,t,e){var r=e(76897),i=e(23619);n.exports=function(n,t,e){var o=!0,u=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return i(e)&&(o="leading"in e?!!e.leading:o,u="trailing"in e?!!e.trailing:u),r(n,t,{leading:o,maxWait:t,trailing:u})}},95053:function(n,t,e){var r=e(12383),i=e(23619),o=e(81878),u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(o(n))return NaN;if(i(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=i(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=r(n);var e=a.test(n);return e||c.test(n)?s(n.slice(2),e?2:8):u.test(n)?NaN:+n}}}]);
//# sourceMappingURL=480.2ff7b985.chunk.js.map