"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[10],{63953:function(e,t,n){n.d(t,{Fu:function(){return c},ZP:function(){return d}});var r=n(89526),l=n(83277),i=n(79669),o=n(50109),s=n(67557);const a=function(){const{pathname:e}=(0,l.TH)(),t=(0,i.v9)(o.S6).find((t=>t.path===e));return e=>t?.buttonList?.some((t=>t.id===e))||!1},c=function(...e){const t=a(),n=e.filter((e=>t(e.permission)));return[function(...e){return(0,s.jsx)(r.Fragment,{children:n.map((t=>{const n=t.render(...e);return(0,s.jsx)(r.Fragment,{children:n},t.permission)}))})},!!n.length]};function d({permission:e,children:t}){return a()(e)?t:void 0}},25877:function(e,t,n){n.d(t,{Z:function(){return q}});var r=n(89526),l=n(24059),i=n(68175),o=n(74918),s=n(64785),a=n(71992),c=n(96799),d=n(42434),u=n(37756),m={"tools-bar":"ghwuoi3NE3Ry7s7fNzAi","header-title":"mtRVkLbROTli4p1ohQ5i","tool-right":"gpJXWmO55r2tH9Z_hXa6","toolbar-setting":"whG6r6ufswl2doZWNUEI","toolbar-setting-item":"te8gfQS8fuVGrAEe5Wko","batch-bar":"dDNrcy2mCFFeBtzOHKWq"},h=n(95267),p=n(5416),f=n(57503),x=n(67557);function g({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(f.Z,{placeholder:`请输入${e.title}`,...e.fieldProps})})}var j=n(54374),y=n(53725);function b({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(j.default,{placeholder:`请选择${e.title}`,style:{width:183},allowClear:!0,...e.fieldProps,children:e.options.map((e=>(0,x.jsx)(j.default.Option,{value:e.value,children:e.color?(0,x.jsx)(y.Z,{color:e.color,text:e.label}):e.label},e.value)))})})}var Z=n(59827);function v({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(Z.Z.Group,{options:e.options,...e.fieldProps})})}var P=n(49155);function k({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(P.ZP.Group,{options:e.options,...e.fieldProps})})}var I=n(81867);function w({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(I.default,{...e.fieldProps})})}const{RangePicker:C}=I.default;function S({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(C,{style:{width:250},...e.fieldProps})})}var O=n(91117);function N({item:e}){return(0,x.jsx)(p.Z.Item,{label:e.title,name:e.dataIndex,...e.formItemProps,children:(0,x.jsx)(O.Z,{placeholder:`请选择${e.title}`,treeData:e.options,style:{width:183},allowClear:!0,...e.fieldProps})})}function R({item:e}){const{type:t="input",renderFormItem:n,...r}=e;if(n)return"function"==typeof n?n():n;switch(t){case"select":return(0,x.jsx)(b,{item:r});case"checkbox":return(0,x.jsx)(v,{item:r});case"radio":return(0,x.jsx)(k,{item:r});case"date":return(0,x.jsx)(w,{item:r});case"dateRange":return(0,x.jsx)(S,{item:r});case"treeSelect":return(0,x.jsx)(N,{item:r});default:return(0,x.jsx)(g,{item:r})}}var F=n(87806),T=n(31439),z=n(54437),E=n(20485);const $="188px",A=(0,z.ZP)(p.Z)`
  position: relative;
  overflow-y: hidden;
  padding-top: 16px;
  &:after {
    content: "";
    display: inline-block;
    width: ${$};
    height: 32px;
    vertical-align: top;
    margin-bottom: 16px;
  }
  & .ant-form-item {
    margin-bottom: 16px;
  }
`,B=(0,z.ZP)(p.Z.Item)`
  position: absolute;
  right: -16px;
  bottom: 0;
  z-index: 10;
`;var W=(0,r.forwardRef)((function(e,t){const[n]=p.Z.useForm(),[l,{setTrue:s,setFalse:a}]=(0,E.Z)(!1),{children:d,style:u,className:m,...h}=e,f=function(){n.resetFields(),n.submit()};return(0,r.useImperativeHandle)(t,(()=>({submit:n.submit,reset:f}))),(0,x.jsx)(i.Z,{styles:{body:{paddingTop:0,paddingBottom:0}},style:u,className:m,children:(0,x.jsxs)(A,{layout:"inline",style:{height:l?"auto":"64px",paddingRight:l?"0":$},form:n,autoComplete:"off",...h,children:[d,(0,x.jsx)(B,{children:(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(c.ZP,{type:"primary",htmlType:"submit",children:"查询"}),(0,x.jsx)(c.ZP,{onClick:()=>f(),children:"重置"}),l?(0,x.jsxs)(c.ZP,{type:"link",style:{padding:0},onClick:()=>a(),children:["收起",(0,x.jsx)(F.Z,{style:{marginInlineStart:0}})]}):(0,x.jsxs)(c.ZP,{type:"link",style:{padding:0},onClick:()=>s(),children:["展开",(0,x.jsx)(T.Z,{style:{marginInlineStart:0}})]})]})})]})})})),_=n(56619),H=n(84878),K=function(e){const{children:t,value:n,onChange:l,options:i}=e,o=i.map((e=>e.value)),[s,a]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!0),m=e=>{l(e),a(!!e.length&&e.length<o.length),u(e.length===o.length)};return(0,x.jsx)(_.Z,{arrow:!1,content:(0,x.jsxs)("div",{style:{minWidth:176},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)(Z.Z,{indeterminate:s,onChange:e=>{l(e.target.checked?o:[]),a(!1),u(e.target.checked)},checked:d,children:"列展示"}),(0,x.jsx)(c.ZP,{type:"link",style:{height:22,lineHeight:1,padding:0},onClick:()=>m(o),children:"重置"})]}),(0,x.jsx)(H.Z,{style:{margin:"4px 0"}}),(0,x.jsx)(Z.Z.Group,{value:n,onChange:e=>m(e),style:{display:"block"},children:i.map((e=>(0,x.jsx)(Z.Z,{style:{display:"flex",margin:0},value:e.value,children:e.label},e.value)))})]}),placement:"bottomRight",trigger:"click",children:t})},D=n(54169),G=n(64622),M=n(48425);const V="large",Q=function(e){return e.key||e.dataIndex};var q=(0,r.forwardRef)((function(e,t){const{loading:n,columns:p,dataSource:f,pagination:g=!0,onRefresh:j,search:y=!0,batchBarRender:b,toolBarRender:Z,headerTitle:v,tableRowSelection:P}=e,k=(0,r.useMemo)((()=>p.filter((e=>!0!==e.hideInSearch)).map((e=>(0,x.jsx)(R,{item:e},Q(e))))),[p]),I=(0,r.useMemo)((()=>Object.fromEntries(p.filter((e=>void 0!==e.initialValue)).map((({dataIndex:e,initialValue:t})=>[e,t])))),[p]),[w,C]=(0,r.useState)(I),S=(0,r.useRef)(null),O=(0,r.useMemo)((()=>p.filter((e=>!0!==e.hideInTable))),[p]),N=(0,u.Z)((({current:t,pageSize:n})=>!Array.isArray(f)&&e.request?.(w,{current:t,pageSize:n})),{refreshDeps:[w],defaultCurrent:g?.current||1,defaultPageSize:g?.pageSize||10,loadingDelay:0}),F=(0,r.useMemo)((()=>{const e=Array.isArray(f),{data:t,pagination:n,refresh:r}=N,l={showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`第 ${t.join("-")} 条/共 ${e} 条`,style:{marginBottom:-8},...g};return{list:e?f:t?.list,pagination:!!g&&(e?l:{current:n.current,pageSize:n.pageSize,total:n.total,onChange:n.onChange,...l}),refresh(t){e||(t&&t!==n.current?n.changeCurrent(t):r()),j?.(w)}}}),[f,N,g,w,j]),[T,z]=(0,r.useState)(O.map((e=>Q(e)))),[E,{setTrue:$,setFalse:A}]=(0,h.ZP)("boolean"==typeof n&&n,{delay:0,keep:350});(0,r.useEffect)((()=>{("boolean"==typeof n?n:N.loading)?$():A()}),[n,N.loading,$,A]);const[B,_]=(0,r.useState)(V),[H,q]=(0,r.useState)([]),{token:{borderRadius:J,controlItemBgActive:L,colorText:U}}=l.Z.useToken();return(0,r.useImperativeHandle)(t,(()=>({refresh:F.refresh,search:()=>{const t=S.current?.submit;t?t():C(null),e.onSubmit?.(w)},reset:()=>{const t=S.current?.reset;t?t():C(null),e.onReset?.(w)},clearSelected:()=>q([])}))),(0,x.jsxs)(x.Fragment,{children:[y&&(0,x.jsx)(W,{ref:S,onFinish:e=>C(e),initialValues:I,children:k}),(0,x.jsxs)(i.Z,{style:{marginTop:y?16:0},styles:{body:{paddingTop:16,paddingBottom:24}},children:[(0,x.jsxs)("div",{className:m["tools-bar"],style:{display:H.length>0?"none":"",color:U},children:[(0,x.jsx)("div",{className:m["header-title"],children:"function"==typeof v?v():v}),(0,x.jsxs)("div",{className:m["tool-right"],children:[Z&&(0,x.jsx)(o.Z,{children:"function"==typeof Z?Z(w):Z}),(0,x.jsxs)("div",{className:m["toolbar-setting"],children:[(0,x.jsx)("div",{className:m["toolbar-setting-item"],onClick:()=>F.refresh(),children:(0,x.jsx)(s.Z,{title:"刷新",children:(0,x.jsx)(D.Z,{})})}),(0,x.jsx)(a.Z,{overlayStyle:{width:80},menu:{items:[{key:"large",label:"默认"},{key:"middle",label:"中等"},{key:"small",label:"紧凑"}],selectable:!0,defaultSelectedKeys:[V],onClick:({key:e})=>_(e)},trigger:["click"],children:(0,x.jsx)("div",{className:m["toolbar-setting-item"],children:(0,x.jsx)(s.Z,{title:"密度",children:(0,x.jsx)(G.Z,{})})})}),(0,x.jsx)(K,{value:T,options:O.map((e=>({label:e.title,value:Q(e)}))),onChange:e=>z(e),children:(0,x.jsx)("div",{className:m["toolbar-setting-item"],children:(0,x.jsx)(s.Z,{title:"列设置",children:(0,x.jsx)(M.Z,{})})})})]})]})]}),b&&(0,x.jsxs)("div",{className:m["batch-bar"],style:{display:H.length>0?"":"none",color:U,backgroundColor:L,borderRadius:J},children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{children:["已选 ",H.length," 项"]}),(0,x.jsx)(c.ZP,{type:"link",onClick:()=>q([]),children:"取消选择"})]}),(0,x.jsx)(o.Z,{children:"function"==typeof b?b(H):b})]}),(0,x.jsx)("div",{className:m.main,children:(0,x.jsx)(d.Z,{rowKey:e.rowKey,dataSource:F.list,columns:O.filter((e=>{const t=Q(e);return T.includes(t)})),loading:E,pagination:F.pagination,rowSelection:b?{type:"checkbox",selectedRowKeys:H,onChange:e=>q(e),preserveSelectedRowKeys:!0,...P}:void 0,size:B,bordered:!0,scroll:{x:"max-content"},footer:e.footer,components:e.components})})]})]})}))},49839:function(e,t,n){function r(e,t){const n=e;return Object.keys(t).forEach((e=>{Object.defineProperty(n,e,{value:t[e],writable:!1,enumerable:!0})})),n}n.d(t,{Z:function(){return r}})},9740:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(97839),l=n(48570),i=n(49093),o=n(89526),s=n(70854),a=n.n(s),c=n(68334),d=n(74425),u=n(25342),m=n(88132),h=n(76678),p=n(76934),f=n(33874),x=(0,d.i)((e=>{const{prefixCls:t,className:n,closeIcon:r,closable:l,type:i,title:s,children:d,footer:x}=e,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:j}=o.useContext(u.E_),y=j(),b=t||j("modal"),Z=(0,m.Z)(y),[v,P,k]=(0,f.ZP)(b,Z),I=`${b}-confirm`;let w={};return w=i?{closable:null!=l&&l,title:"",footer:"",children:o.createElement(h.O,Object.assign({},e,{prefixCls:b,confirmPrefixCls:I,rootPrefixCls:y,content:d}))}:{closable:null==l||l,title:s,footer:null!==x&&o.createElement(p.$,Object.assign({},e)),children:d},v(o.createElement(c.s,Object.assign({prefixCls:b,className:a()(P,`${b}-pure-panel`,i&&I,i&&`${I}-${i}`,n,k,Z)},g,{closeIcon:(0,p.b)(b,r),closable:l},w)))})),g=n(4894);function j(e){return(0,r.ZP)((0,r.uW)(e))}const y=i.Z;y.useModal=g.Z,y.info=function(e){return(0,r.ZP)((0,r.cw)(e))},y.success=function(e){return(0,r.ZP)((0,r.vq)(e))},y.error=function(e){return(0,r.ZP)((0,r.AQ)(e))},y.warning=j,y.warn=j,y.confirm=function(e){return(0,r.ZP)((0,r.Au)(e))},y.destroyAll=function(){for(;l.Z.length;){const e=l.Z.pop();e&&e()}},y.config=r.ai,y._InternalPanelDoNotUseOrYouWillBeFired=x;var b=y}}]);
//# sourceMappingURL=10.ad86ecfc.chunk.js.map