"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[534],{2693:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var o=t(9786),r=t(1821),i=t(592),l=t(9255),a=t(4403),s=t.n(a),c=t(7624),p=t(6346),d=t(1370),m=t(9526),u=t(2514),g=t(5342),f=t(6044),y=t(2858),v=t(206),h=t(8987),x=t(5384),b=t(8669),C=t(1384),$=(0,t(3365).Z)("Popconfirm",(e=>(e=>{const{componentCls:n,iconCls:t,antCls:o,zIndexPopup:r,colorText:i,colorWarning:l,marginXXS:a,marginXS:s,fontSize:c,fontWeightStrong:p,colorTextHeading:d}=e;return{[n]:{zIndex:r,[`&${o}-popover`]:{fontSize:c},[`${n}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${t}`]:{color:l,fontSize:c,lineHeight:1,marginInlineEnd:s},[`${n}-title`]:{fontWeight:p,color:d,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:a,color:i}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}})(e)),(e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}}));const E=e=>{const{prefixCls:n,okButtonProps:t,cancelButtonProps:o,title:r,description:a,cancelText:c,okText:p,okType:d="primary",icon:u=m.createElement(l.Z,null),showCancel:f=!0,close:C,onConfirm:$,onCancel:E,onPopupClick:S}=e,{getPrefixCls:O}=m.useContext(g.E_),[w]=(0,x.Z)("Popconfirm",b.Z.Popconfirm),I=(0,v.Z)(r),j=(0,v.Z)(a);return m.createElement("div",{className:`${n}-inner-content`,onClick:S},m.createElement("div",{className:`${n}-message`},u&&m.createElement("span",{className:`${n}-message-icon`},u),m.createElement("div",{className:`${n}-message-text`},I&&m.createElement("div",{className:s()(`${n}-title`)},I),j&&m.createElement("div",{className:`${n}-description`},j))),m.createElement("div",{className:`${n}-buttons`},f&&m.createElement(i.ZP,Object.assign({onClick:E,size:"small"},o),null!=c?c:null==w?void 0:w.cancelText),m.createElement(y.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,h.n)(d)),t),actionFn:$,close:C,prefixCls:O("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!=p?p:null==w?void 0:w.okText)))};const S=m.forwardRef(((e,n)=>{const{prefixCls:t,placement:o="top",trigger:r="click",okType:i="primary",icon:a=m.createElement(l.Z,null),children:y,overlayClassName:v,onOpenChange:h,onVisibleChange:x}=e,b=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:C}=m.useContext(g.E_),[S,O]=(0,p.Z)(!1,{value:e.open,defaultValue:e.defaultOpen}),w=(e,n)=>{O(e,!0),null==x||x(e),null==h||h(e,n)},I=C("popconfirm",t),j=s()(I,v),[Z]=$(I);return Z(m.createElement(f.Z,Object.assign({},(0,d.Z)(b,["title"]),{trigger:r,placement:o,onOpenChange:n=>{const{disabled:t=!1}=e;t||w(n)},open:S,ref:n,overlayClassName:j,content:m.createElement(E,Object.assign({okType:i,icon:a},e,{prefixCls:I,close:e=>{w(!1,e)},onConfirm:n=>{var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(void 0,n)},onCancel:n=>{var t;w(!1,n),null===(t=e.onCancel)||void 0===t||t.call(void 0,n)}})),"data-popover-inject":!0}),(0,u.Tm)(y,{onKeyDown:e=>{var n,t;m.isValidElement(y)&&(null===(t=null==y?void 0:(n=y.props).onKeyDown)||void 0===t||t.call(n,e)),(e=>{e.keyCode===c.Z.ESC&&S&&w(!1,e)})(e)}})))}));S._InternalPanelDoNotUseOrYouWillBeFired=e=>{const{prefixCls:n,placement:t,className:o,style:r}=e,i=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(e,["prefixCls","placement","className","style"]),{getPrefixCls:l}=m.useContext(g.E_),a=l("popconfirm",n),[c]=$(a);return c(m.createElement(C.ZP,{placement:t,className:s()(a,o),style:r,content:m.createElement(E,Object.assign({prefixCls:a},i))}))};var O=S,w=t(7132),I=t(6430),j=t(8047),Z=t(395),P=t(7557);function k(){const{message:e}=o.Z.useApp(),{data:n,isLoading:t,refetch:l}=(0,Z.EY)(),[a]=(0,Z.NY)(),s=[{title:"部门名称",dataIndex:"deptName"},{title:"描述",dataIndex:"description"},{title:"操作",key:"action",render:n=>(0,P.jsxs)(r.Z,{children:[(0,P.jsx)(i.ZP,{type:"primary",ghost:!0,size:"small",children:"编辑"}),(0,P.jsx)(i.ZP,{type:"primary",size:"small",children:"新增下级"}),(0,P.jsx)(O,{title:"提示",description:"您确定要删除此部门吗?",onConfirm:()=>{return t=n.id,void a({id:t}).unwrap().then((()=>{e.success("删除成功！")}));var t},okText:"确定",cancelText:"取消",children:(0,P.jsx)(i.ZP,{type:"primary",danger:!0,size:"small",children:"删除"})})]}),width:100,fixed:"right"}];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w.Z,{message:"此页面用redux管理数据，主要用来演示和体验RTK查询的功能",type:"info",showIcon:!0,closable:!0}),(0,P.jsx)(I.Z,{rowKey:"id",columns:s,dataSource:n,headerTitle:"部门列表",loading:t,search:!1,onRefresh:l,toolBarRender:[(0,P.jsx)(i.ZP,{type:"primary",icon:(0,P.jsx)(j.Z,{}),onClick:()=>e.warning("演示功能"),children:"新增"},"add"),(0,P.jsx)(i.ZP,{onClick:()=>e.warning("演示功能"),children:"导出"},"export")],batchBarRender:[(0,P.jsx)(i.ZP,{type:"primary",danger:!0,onClick:()=>e.warning("演示功能"),children:"批量删除"},"del"),(0,P.jsx)(i.ZP,{onClick:()=>e.warning("演示功能"),children:"导出数据"},"export")]})]})}},395:function(e,n,t){t.d(n,{EY:function(){return i},NY:function(){return c},uD:function(){return l}});var o=t(8491);const r=o.Z.injectEndpoints({endpoints:e=>({getDeptAll:e.query({query:()=>"/api/dept/list",providesTags:["deptList"]}),getDeptSelect:e.query({query:()=>"/api/dept/select",providesTags:["DeptSelect"]}),addDeptItem:e.mutation({query:e=>({url:"/api/dept/add",method:"POST",body:e}),invalidatesTags:["deptList","DeptSelect"]}),updateDeptItem:e.mutation({query:e=>({url:"/api/dept/update",method:"POST",body:e}),invalidatesTags:["deptList","DeptSelect"]}),deleteDeptItem:e.mutation({query:e=>({url:"/api/dept/delete",method:"POST",body:e}),invalidatesTags:["deptList","DeptSelect"],async onQueryStarted({id:e},{dispatch:n,queryFulfilled:t}){const r=n(o.Z.util.updateQueryData("getDeptAll",void 0,(n=>n.filter((n=>n.id!==e)))));try{await t}catch{r.undo()}}})})}),{useGetDeptAllQuery:i,useGetDeptSelectQuery:l,useAddDeptItemMutation:a,useUpdateDeptItemMutation:s,useDeleteDeptItemMutation:c}=r},7132:function(e,n,t){t.d(n,{Z:function(){return D}});var o=t(4797),r=t(3835),i=t(7431),l=t(9255),a=t(9673),s=t(4403),c=t.n(s),p=t(553),d=t(8786),m=t(9526),u=t(2514),g=t(5342),f=t(1351),y=t(3365),v=t(4237);const h=(e,n,t,o,r)=>({backgroundColor:e,border:`${o.lineWidth}px ${o.lineType} ${n}`,[`${r}-icon`]:{color:t}}),x=e=>{const{componentCls:n,motionDurationSlow:t,marginXS:o,marginSM:r,fontSize:i,fontSizeLG:l,lineHeight:a,borderRadiusLG:s,motionEaseInOutCirc:c,alertIconSizeLG:p,colorText:d,paddingContentVerticalSM:m,alertPaddingHorizontal:u,paddingMD:g,paddingContentHorizontalLG:y,colorTextHeading:v}=e;return{[n]:Object.assign(Object.assign({},(0,f.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:`${m}px ${u}px`,wordWrap:"break-word",borderRadius:s,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:a},"&-message":{color:d},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${c}, opacity ${t} ${c},\n        padding-top ${t} ${c}, padding-bottom ${t} ${c},\n        margin-bottom ${t} ${c}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",paddingInline:y,paddingBlock:g,[`${n}-icon`]:{marginInlineEnd:r,fontSize:p,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:o,color:v,fontSize:l},[`${n}-description`]:{display:"block"}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},b=e=>{const{componentCls:n,colorSuccess:t,colorSuccessBorder:o,colorSuccessBg:r,colorWarning:i,colorWarningBorder:l,colorWarningBg:a,colorError:s,colorErrorBorder:c,colorErrorBg:p,colorInfo:d,colorInfoBorder:m,colorInfoBg:u}=e;return{[n]:{"&-success":h(r,o,t,e,n),"&-info":h(u,m,d,e,n),"&-warning":h(a,l,i,e,n),"&-error":Object.assign(Object.assign({},h(p,c,s,e,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},C=e=>{const{componentCls:n,iconCls:t,motionDurationMid:o,marginXS:r,fontSizeIcon:i,colorIcon:l,colorIconHover:a}=e;return{[n]:{"&-action":{marginInlineStart:r},[`${n}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:i,lineHeight:`${i}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:l,transition:`color ${o}`,"&:hover":{color:a}}},"&-close-text":{color:l,transition:`color ${o}`,"&:hover":{color:a}}}}},$=e=>[x(e),b(e),C(e)];var E=(0,y.Z)("Alert",(e=>{const{fontSizeHeading3:n}=e,t=(0,v.TS)(e,{alertIconSizeLG:n,alertPaddingHorizontal:12});return[$(t)]}));const S={success:o.Z,info:a.Z,error:r.Z,warning:l.Z},O=e=>{const{icon:n,prefixCls:t,type:o}=e,r=S[o]||null;return n?(0,u.wm)(n,m.createElement("span",{className:`${t}-icon`},n),(()=>({className:c()(`${t}-icon`,{[n.props.className]:n.props.className})}))):m.createElement(r,{className:`${t}-icon`})},w=e=>{const{isClosable:n,prefixCls:t,closeIcon:o,handleClose:r}=e,l=!0===o||void 0===o?m.createElement(i.Z,null):o;return n?m.createElement("button",{type:"button",onClick:r,className:`${t}-close-icon`,tabIndex:0},l):null};var I=e=>{const{description:n,prefixCls:t,message:o,banner:r,className:i,rootClassName:l,style:a,onMouseEnter:s,onMouseLeave:u,onClick:f,afterClose:y,showIcon:v,closable:h,closeText:x,closeIcon:b,action:C}=e,$=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[S,I]=m.useState(!1),j=m.useRef(null),{getPrefixCls:Z,direction:P,alert:k}=m.useContext(g.E_),N=Z("alert",t),[T,z]=E(N),D=n=>{var t;I(!0),null===(t=e.onClose)||void 0===t||t.call(e,n)},B=m.useMemo((()=>void 0!==e.type?e.type:r?"warning":"info"),[e.type,r]),H=m.useMemo((()=>!!x||("boolean"==typeof h?h:!1!==b&&null!=b)),[x,b,h]),L=!(!r||void 0!==v)||v,M=c()(N,`${N}-${B}`,{[`${N}-with-description`]:!!n,[`${N}-no-icon`]:!L,[`${N}-banner`]:!!r,[`${N}-rtl`]:"rtl"===P},null==k?void 0:k.className,i,l,z),W=(0,d.Z)($,{aria:!0,data:!0});return T(m.createElement(p.ZP,{visible:!S,motionName:`${N}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:y},(t=>{let{className:r,style:i}=t;return m.createElement("div",Object.assign({ref:j,"data-show":!S,className:c()(M,r),style:Object.assign(Object.assign(Object.assign({},null==k?void 0:k.style),a),i),onMouseEnter:s,onMouseLeave:u,onClick:f,role:"alert"},W),L?m.createElement(O,{description:n,icon:e.icon,prefixCls:N,type:B}):null,m.createElement("div",{className:`${N}-content`},o?m.createElement("div",{className:`${N}-message`},o):null,n?m.createElement("div",{className:`${N}-description`},n):null),C?m.createElement("div",{className:`${N}-action`},C):null,m.createElement(w,{isClosable:H,prefixCls:N,closeIcon:x||b,handleClose:D}))})))},j=t(5671),Z=t(3144),P=t(9340),k=t(8557);let N=function(e){(0,P.Z)(t,e);var n=(0,k.Z)(t);function t(){var e;return(0,j.Z)(this,t),(e=n.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,Z.Z)(t,[{key:"componentDidCatch",value:function(e,n){this.setState({error:e,info:n})}},{key:"render",value:function(){const{message:e,description:n,children:t}=this.props,{error:o,info:r}=this.state,i=r&&r.componentStack?r.componentStack:null,l=void 0===e?(o||"").toString():e,a=void 0===n?i:n;return o?m.createElement(I,{type:"error",message:l,description:m.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},a)}):t}}]),t}(m.Component);var T=N;const z=I;z.ErrorBoundary=T;var D=z}}]);
//# sourceMappingURL=534.88094090.chunk.js.map