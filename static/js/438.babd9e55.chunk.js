"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[438],{9957:function(e,t,o){o.d(t,{Z:function(){return H}});var r=o(9526),n=o(5642),l=o(8175),i=o(5293),a=o(592),s=o(7806),c=o(1439),d=o(4437),u=o(8589),h=o(7557);const g="188px",p=(0,d.ZP)(n.Z)`
  position: relative;
  overflow-y: hidden;
  padding-top: 16px;
  &:after {
    content: "";
    display: inline-block;
    width: ${g};
    height: 32px;
    vertical-align: top;
    margin-bottom: 16px;
  }
  & .ant-form-item {
    margin-bottom: 16px;
  }
`,m=(0,d.ZP)(n.Z.Item)`
  position: absolute;
  right: -16px;
  bottom: 0;
  z-index: 10;
`;var b=(0,r.forwardRef)((function(e,t){const[o]=n.Z.useForm(),[d,{setTrue:b,setFalse:y}]=(0,u.Z)(!1),{children:f,style:x,className:C,...j}=e,k=function(){o.resetFields(),o.submit()};return(0,r.useImperativeHandle)(t,(()=>({submit:o.submit,reset:k}))),(0,h.jsx)(l.Z,{bodyStyle:{paddingTop:0,paddingBottom:0},style:x,className:C,children:(0,h.jsxs)(p,{layout:"inline",style:{height:d?"auto":"64px",paddingRight:d?"0":g},form:o,...j,children:[f,(0,h.jsx)(m,{children:(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(a.ZP,{type:"primary",htmlType:"submit",children:"查询"}),(0,h.jsx)(a.ZP,{onClick:()=>k(),children:"重置"}),d?(0,h.jsxs)(a.ZP,{type:"link",style:{padding:0},onClick:()=>y(),children:["收起",(0,h.jsx)(s.Z,{style:{marginInlineStart:0}})]}):(0,h.jsxs)(a.ZP,{type:"link",style:{padding:0},onClick:()=>b(),children:["展开",(0,h.jsx)(c.Z,{style:{marginInlineStart:0}})]})]})})]})})})),y=o(7979),f=o(6843),x=o(446),C=o(4785),j=o(5466),k=o(990),v={"tools-bar":"ghwuoi3NE3Ry7s7fNzAi","header-title":"mtRVkLbROTli4p1ohQ5i","tool-right":"gpJXWmO55r2tH9Z_hXa6","toolbar-setting":"whG6r6ufswl2doZWNUEI","toolbar-setting-item":"te8gfQS8fuVGrAEe5Wko","batch-bar":"dDNrcy2mCFFeBtzOHKWq"},S=o(8001),Z=o(2652),$=o.n(Z),w=o(4169),O=o(4622),T=o(8425),I=o(6619),N=o(3955),P=o(4878),R=function(e){const{children:t,value:o,onChange:n,options:l}=e,i=l.map((e=>e.value)),[s,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!0),g=e=>{n(e),c(!!e.length&&e.length<i.length),u(e.length===i.length)};return(0,h.jsx)(I.Z,{arrow:!1,content:(0,h.jsxs)("div",{style:{minWidth:176},children:[(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(N.Z,{indeterminate:s,onChange:e=>{n(e.target.checked?i:[]),c(!1),u(e.target.checked)},checked:d,children:"列展示"}),(0,h.jsx)(a.ZP,{type:"link",style:{height:22,lineHeight:1,padding:0},onClick:()=>g(i),children:"重置"})]}),(0,h.jsx)(P.Z,{style:{margin:"4px 0"}}),(0,h.jsx)(N.Z.Group,{value:o,onChange:e=>g(e),style:{display:"block"},children:l.map((e=>(0,h.jsx)(N.Z,{style:{display:"flex",margin:0},value:e.value,children:e.label},e.value)))})]}),placement:"bottomRight",trigger:"click",children:t})};const z=function(e){return"select"===e.type?(0,h.jsx)(y.Z,{placeholder:`请选择${e.title}`,options:e.options,style:{width:"183px"}}):(0,h.jsx)(f.Z,{placeholder:`请输入${e.title}`})},B=function(e){return e.key||e.dataIndex},E="large",F=(0,r.forwardRef)((function(e,t){const{columns:o=[],search:s=!0,toolBarRender:c=null,headerTitle:d,batchBarRender:u=null,tableRowSelection:g={},pagination:p=!0}=e,m=(0,r.useMemo)((()=>Object.fromEntries(o.filter((e=>void 0!==e.initialValue)).map((({dataIndex:e,initialValue:t})=>[e,t])))),[o]),y=(0,r.useMemo)((()=>o.filter((e=>!0!==e.hideInSearch)).map((e=>(0,h.jsx)(n.Z.Item,{label:e.title,name:e.dataIndex,children:z(e)},B(e))))),[o]),f=(0,r.useMemo)((()=>o.filter((e=>!0!==e.hideInTable))),[o]),[Z,$]=(0,r.useState)(f.map((e=>B(e)))),[I,N]=(0,r.useState)(m),P=(0,r.useRef)(null),{data:F,pagination:H,loading:D,refresh:W}=(0,S.Z)((({current:t,pageSize:o})=>e.request(I,{current:t,pageSize:o})),{refreshDeps:[I],defaultCurrent:p?.current||1,defaultPageSize:p?.pageSize||10,loadingDelay:300}),[M,K]=(0,r.useState)(E),[_,q]=(0,r.useState)([]);(0,r.useImperativeHandle)(t,(()=>({refresh:W,search:()=>{const e=P?.current?.submit;e?e():N(null)},reset:()=>{const e=P?.current?.reset;e?e():N(null)},clearSelected:()=>q([])})));const{token:{borderRadius:A,controlItemBgActive:L,colorText:V}}=x.default.useToken();return(0,h.jsxs)(h.Fragment,{children:[s&&(0,h.jsx)(b,{ref:P,onFinish:e=>N(e),initialValues:m,children:y}),(0,h.jsxs)(l.Z,{style:{marginTop:16},bodyStyle:{paddingTop:16,paddingBottom:p?0:24},children:[(0,h.jsxs)("div",{className:v["tools-bar"],style:{display:_.length>0?"none":"",color:V},children:[(0,h.jsx)("div",{className:v["header-title"],children:"function"==typeof d?d():d}),(0,h.jsxs)("div",{className:v["tool-right"],children:[c&&(0,h.jsx)(i.Z,{children:"function"==typeof c?c():c}),(0,h.jsxs)("div",{className:v["toolbar-setting"],children:[(0,h.jsx)("div",{className:v["toolbar-setting-item"],onClick:()=>W(),children:(0,h.jsx)(C.Z,{title:"刷新",children:(0,h.jsx)(w.Z,{})})}),(0,h.jsx)(j.Z,{overlayStyle:{width:80},menu:{items:[{key:"large",label:"默认"},{key:"middle",label:"中等"},{key:"small",label:"紧凑"}],selectable:!0,defaultSelectedKeys:[E],onClick:({key:e})=>K(e)},trigger:["click"],children:(0,h.jsx)("div",{className:v["toolbar-setting-item"],children:(0,h.jsx)(C.Z,{title:"密度",children:(0,h.jsx)(O.Z,{})})})}),(0,h.jsx)(R,{value:Z,options:f.map((e=>({label:e.title,value:B(e)}))),onChange:e=>$(e),children:(0,h.jsx)("div",{className:v["toolbar-setting-item"],children:(0,h.jsx)(C.Z,{title:"列设置",children:(0,h.jsx)(T.Z,{})})})})]})]})]}),u&&(0,h.jsxs)("div",{className:v["batch-bar"],style:{display:_.length>0?"":"none",color:V,backgroundColor:L,borderRadius:A},children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:["已选 ",_.length," 项"]}),(0,h.jsx)(a.ZP,{type:"link",onClick:()=>q([]),children:"取消选择"})]}),(0,h.jsx)(i.Z,{children:"function"==typeof u?u(_):u})]}),(0,h.jsx)("div",{className:v.main,children:(0,h.jsx)(k.Z,{rowKey:e.rowKey,dataSource:F?.list,columns:f.filter((e=>{const t=B(e);return Z.includes(t)})),pagination:!!p&&{current:H.current,pageSize:H.pageSize,total:H.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`第 ${t.join("-")} 条/共 ${e} 条`,onChange:H.onChange,...p},loading:D,rowSelection:u?{type:"checkbox",selectedRowKeys:_,onChange:e=>q(e),preserveSelectedRowKeys:!0,...g}:void 0,bordered:!0,size:M,scroll:{x:"max-content"}})})]})]})}));F.propTypes={rowKey:$().string.isRequired,request:$().func.isRequired,columns:$().array.isRequired,search:$().bool,toolBarRender:$().oneOfType([$().element,$().array,$().func]),headerTitle:$().oneOfType([$().element,$().array,$().func,$().string]),batchBarRender:$().oneOfType([$().element,$().array,$().func]),tableRowSelection:$().object,pagination:$().oneOfType([$().object,$().bool])};var H=F},2331:function(e,t,o){o.d(t,{Z:function(){return C}});var r=o(7431),n=o(4403),l=o.n(n),i=o(9526),a=o(159),s=o(9651),c=o(5342),d=o(1351),u=o(7606),h=o(8681),g=o(4237);const p=(e,t,o)=>{const r="string"!=typeof(n=o)?n:n.charAt(0).toUpperCase()+n.slice(1);var n;return{[`${e.componentCls}-${t}`]:{color:e[`color${o}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`]}}},m=e=>(0,u.Z)(e,((t,o)=>{let{textColor:r,lightBorderColor:n,lightColor:l,darkColor:i}=o;return{[`${e.componentCls}-${t}`]:{color:r,background:l,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})),b=e=>{const{paddingXXS:t,lineWidth:o,tagPaddingHorizontal:r,componentCls:n}=e,l=r-o,i=t-o;return{[n]:Object.assign(Object.assign({},(0,d.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${n}-close-icon`]:{marginInlineStart:i,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var y=(0,h.Z)("Tag",(e=>{const{fontSize:t,lineHeight:o,lineWidth:r,fontSizeIcon:n}=e,l=Math.round(t*o),i=e.fontSizeSM,a=l-2*r,s=e.colorFillQuaternary,c=e.colorText,d=(0,g.TS)(e,{tagFontSize:i,tagLineHeight:a,tagDefaultBg:s,tagDefaultColor:c,tagIconSize:n-2*r,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[b(d),m(d),p(d,"success","Success"),p(d,"processing","Info"),p(d,"error","Error"),p(d,"warning","Warning")]}));const f=(e,t)=>{const{prefixCls:o,className:n,rootClassName:d,style:u,children:h,icon:g,color:p,onClose:m,closeIcon:b,closable:f=!1,bordered:x=!0}=e,C=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o}(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:j,direction:k}=i.useContext(c.E_),[v,S]=i.useState(!0);i.useEffect((()=>{"visible"in C&&S(C.visible)}),[C.visible]);const Z=(0,a.o2)(p)||(0,a.yT)(p),$=Object.assign({backgroundColor:p&&!Z?p:void 0},u),w=j("tag",o),[O,T]=y(w),I=l()(w,{[`${w}-${p}`]:Z,[`${w}-has-color`]:p&&!Z,[`${w}-hidden`]:!v,[`${w}-rtl`]:"rtl"===k,[`${w}-borderless`]:!x},n,d,T),N=e=>{e.stopPropagation(),null==m||m(e),e.defaultPrevented||S(!1)},P=i.useMemo((()=>f?b?i.createElement("span",{className:`${w}-close-icon`,onClick:N},b):i.createElement(r.Z,{className:`${w}-close-icon`,onClick:N}):null),[f,b,w,N]),R="function"==typeof C.onClick||h&&"a"===h.type,z=g||null,B=z?i.createElement(i.Fragment,null,z,i.createElement("span",null,h)):h,E=i.createElement("span",Object.assign({},C,{ref:t,className:I,style:$}),B,P);return O(R?i.createElement(s.Z,null,E):E)},x=i.forwardRef(f);x.CheckableTag=e=>{const{prefixCls:t,className:o,checked:r,onChange:n,onClick:a}=e,s=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o}(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:d}=i.useContext(c.E_),u=d("tag",t),[h,g]=y(u),p=l()(u,{[`${u}-checkable`]:!0,[`${u}-checkable-checked`]:r},o,g);return h(i.createElement("span",Object.assign({},s,{className:p,onClick:e=>{null==n||n(!r),null==a||a(e)}})))};var C=x}}]);
//# sourceMappingURL=438.babd9e55.chunk.js.map