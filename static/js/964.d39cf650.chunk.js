"use strict";(self.webpackChunkreact_admin_web=self.webpackChunkreact_admin_web||[]).push([[964],{8139:function(e,t,n){n.d(t,{B2:function(){return a},UK:function(){return u},ZP:function(){return l}});var s=n(89526),r=n(78589);const i=()=>(new Date).getTime(),u=function(e,t=500){const[n,{set:i}]=(0,r.Z)(e),u=(0,s.useRef)(null);return[n,{setTrue:()=>{u.current||(u.current=setTimeout((()=>i(!0)),t||0))},setFalse:()=>{u.current&&(clearTimeout(u.current),u.current=null),i(!1)}}]},a=function(e,t=500){const[n,{set:u}]=(0,r.Z)(e),a=(0,s.useRef)(null),[l,o]=(0,s.useState)();return[n,{setTrue:()=>{a.current&&(clearTimeout(a.current),a.current=null),u(!0),o(i())},setFalse:()=>{if(a.current)return;const e=i(),n=e-(l||e);a.current=setTimeout((()=>u(!1)),n>t?0:t-n),o(void 0)}}]};function l(e=!1,t){const[n,{set:u}]=(0,r.Z)(e),a=(0,s.useRef)(null),[l,o]=(0,s.useState)(),d={delay:300,keep:500,...t};return[n,{setTrue:()=>{a.current&&(clearTimeout(a.current),a.current=null),a.current=setTimeout((()=>{u(!0),o(i())}),d.delay||0)},setFalse:()=>{a.current&&(clearTimeout(a.current),a.current=null);const{keep:e=0}=d,t=i(),n=t-(l||t);a.current=setTimeout((()=>u(!1)),n>e?0:e-n),o(void 0)}}]}},36964:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s=n(68175),r=n(75452),i=n(96799),u=n(31363),a=n(74918),l=n(24059),o=n(97132),d=n(52936),c=n(78589),g=n(8139),f=n(89526),x=n(67557);const m=function({options:e}){const{title:t,loading:n,setTrue:u,setFalse:a,duration:l,describe:o,extra:d}=e;return(0,x.jsx)(s.Z,{title:t,style:{marginTop:20},extra:d,children:(0,x.jsx)(r.Z,{spinning:n,tip:"拼命加载中...",children:(0,x.jsx)("div",{style:{height:150,display:"flex",alignItems:"center"},children:(0,x.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[(0,x.jsx)(i.ZP,{type:"primary",onClick:()=>{u(),setTimeout(a,l)},children:"点击模拟请求"}),(0,x.jsx)("div",{style:{margin:"16px 0",textAlign:"center"},children:o})]})})})})},T=function({duration:e}){const[t,{setTrue:n,setFalse:s}]=(0,c.Z)(!1);return(0,x.jsx)(m,{options:{title:"普通loading",loading:t,setTrue:n,setFalse:s,duration:e,describe:"当加载时长比较短的时候，loading就会一闪而过。"}})},j=function({duration:e}){const[t,{setTrue:n,setFalse:s}]=(0,g.UK)(!1);return(0,x.jsx)(m,{options:{title:"延时loading（useLoadingDelay）",loading:t,setTrue:n,setFalse:s,duration:e,describe:"如果加载时间小于500ms，则不会出现loading；如果加载时间大于500ms时，则在500ms后出现loading。",extra:(0,x.jsx)(u.Z,{style:{width:150},addonBefore:"delay",defaultValue:"500ms",disabled:!0})}})},p=function({duration:e}){const[t,{setTrue:n,setFalse:s}]=(0,g.B2)(!1);return(0,x.jsx)(m,{options:{title:"持续loading（useLoadingKeep）",loading:t,setTrue:n,setFalse:s,duration:e,describe:"不管加载时间多长都一定会出现loading；如果加载时间小于500ms，则会出现持续时间500ms的loading，反之则持续实际时长。",extra:(0,x.jsx)(u.Z,{style:{width:150},addonBefore:"keep",defaultValue:"500ms",disabled:!0})}})},h=function({duration:e}){const[t,{setTrue:n,setFalse:s}]=(0,g.ZP)(!1);return(0,x.jsx)(m,{options:{title:"即延时又持续loading（useLoadingDelayAndKeep）",loading:t,setTrue:n,setFalse:s,duration:e,describe:"这属于是上面两个的中和，如果加载时长小于500ms,则不会出现loading，如果出现了loading，则一定会持续500ms以上。",extra:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(u.Z,{style:{width:150},addonBefore:"delay",defaultValue:"500ms",disabled:!0}),(0,x.jsx)(u.Z,{style:{width:150},addonBefore:"keep",defaultValue:"500ms",disabled:!0})]})}})};function y(){const{token:{colorBgContainer:e}}=l.Z.useToken(),[t,n]=(0,f.useState)(50);return(0,x.jsxs)("div",{style:{height:"100%"},children:[(0,x.jsx)(o.Z,{message:"使用场景：有些时候，当请求返回足够快的情况下，loading 可能会在短时间内完成 false -> true -> false 状态的切换，这时候，加载动画可能会出现闪烁的情况（特别是占满一整屏的动画），这给会用户带来糟糕的体验。"}),(0,x.jsxs)("div",{style:{marginTop:20,padding:16,backgroundColor:e},children:[(0,x.jsx)(d.Z,{min:0,value:t,onChange:e=>n(e),addonBefore:"加载时长",addonAfter:"单位：ms"}),(0,x.jsx)("div",{style:{marginTop:12},children:"设置加载时长后在下面模拟各种loading的效果"})]}),(0,x.jsx)(T,{duration:t}),(0,x.jsx)(j,{duration:t}),(0,x.jsx)(p,{duration:t}),(0,x.jsx)(h,{duration:t})]})}}}]);
//# sourceMappingURL=964.d39cf650.chunk.js.map